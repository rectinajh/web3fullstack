(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{238:function(t,s,a){t.exports=a.p+"assets/img/buffer.63dacdd4.png"},371:function(t,s,a){t.exports=a.p+"assets/img/require.63088a5b.png"},372:function(t,s,a){t.exports=a.p+"assets/img/nodeability.1343d4a4.png"},373:function(t,s,a){t.exports=a.p+"assets/img/node-framework.ab79f1b5.png"},374:function(t,s,a){t.exports=a.p+"assets/img/eventEmitter.4d0be828.png"},375:function(t,s,a){t.exports=a.p+"assets/img/moduleme.6e0827b0.png"},376:function(t,s,a){t.exports=a.p+"assets/img/modulepriority.603de0d7.png"},377:function(t,s,a){t.exports=a.p+"assets/img/moduleLocation.9c7a1713.png"},378:function(t,s,a){t.exports=a.p+"assets/img/networkmodel.6dfd0c0e.png"},379:function(t,s,a){t.exports=a.p+"assets/img/browserEventloop.fddfb26d.png"},380:function(t,s,a){t.exports=a.p+"assets/img/nodeventloop.e925202b.png"},381:function(t,s,a){t.exports=a.p+"assets/img/baseFramework.9cbb930f.png"},382:function(t,s,a){t.exports=a.p+"assets/img/routerMiddle.c7fe5f02.png"},383:function(t,s,a){t.exports=a.p+"assets/img/writeMiddle.fb581c4f.png"},384:function(t,s,a){t.exports=a.p+"assets/img/routingMe.536cb95f.png"},385:function(t,s,a){t.exports=a.p+"assets/img/preform.0709148c.png"},386:function(t,s,a){t.exports=a.p+"assets/img/requirement.3042761f.png"},387:function(t,s,a){t.exports=a.p+"assets/img/fundesign.f9767f3b.png"},388:function(t,s,a){t.exports=a.p+"assets/img/httpres.b613a7c1.png"},516:function(t,s,a){"use strict";a.r(s);var n=a(3),e=Object(n.a)({},(function(){var t=this,s=t._self._c;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h2",{attrs:{id:"_1-1-nodejs-ç®€ä»‹"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1-1-nodejs-ç®€ä»‹"}},[t._v("#")]),t._v(" 1.1 Nodejs ç®€ä»‹")]),t._v(" "),s("h3",{attrs:{id:"_1-1-1-å®‰è£…node"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1-1-1-å®‰è£…node"}},[t._v("#")]),t._v(" 1.1.1 å®‰è£…node")]),t._v(" "),s("h4",{attrs:{id:"mac"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#mac"}},[t._v("#")]),t._v(" Mac")]),t._v(" "),s("ol",[s("li",[t._v("MacOS-installer.pkg å®˜æ–¹æä¾›çš„å®‰è£…åŒ…")]),t._v(" "),s("li",[t._v("HomeBrew å‘½ä»¤å®‰è£…åˆ°å…¨å±€")]),t._v(" "),s("li",[t._v("nvm ç®¡ç†ç‰ˆæœ¬ï¼Œæ–¹ä¾¿åˆ‡æ¢ï¼ˆæ¨èï¼‰")])]),t._v(" "),s("div",{staticClass:"language-bash line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# å®‰è£…nvm")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("sudo")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("curl")]),t._v(" https://raw.githubusercontent.com/nvm-sh/nvm/v0.35.1/install.sh "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("bash")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# nvmå®‰è£…node")]),t._v("\nnvm "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("install")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("--lts")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# å¦‚æœæ˜¾ç¤ºæ²¡æœ‰å‘ç°è¿™ä¸ªå‘½ä»¤ï¼Œå°±ç¼–è¾‘.bash_profile")]),t._v("\n "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("vim")]),t._v(" .bash_profile\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# æŠŠä»¥ä¸‹å¤åˆ¶è¿›å»ï¼Œwqä¿å­˜é€€å‡ºï¼Œå¦‚æœä¸äº†è§£vimç¼–è¾‘ï¼Œå¯ä»¥è°·æ­Œ")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("export")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("NVM_DIR")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"'),s("span",{pre:!0,attrs:{class:"token environment constant"}},[t._v("$HOME")]),t._v('/.nvm"')]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-s")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"'),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$NVM_DIR")]),t._v('/nvm.sh"')]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&&")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v(". "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"'),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$NVM_DIR")]),t._v('/nvm.sh"')]),t._v("  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# This loads nvm")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-s")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"'),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$NVM_DIR")]),t._v('/bash_completion"')]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&&")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v(". "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"'),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$NVM_DIR")]),t._v('/bash_completion"')]),t._v("  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# This loads nvm bash_completion")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# ç„¶å source ä¸€ä¸‹ .bash_profile")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("source")]),t._v(" .bash_profile\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br"),s("span",{staticClass:"line-number"},[t._v("8")]),s("br"),s("span",{staticClass:"line-number"},[t._v("9")]),s("br"),s("span",{staticClass:"line-number"},[t._v("10")]),s("br"),s("span",{staticClass:"line-number"},[t._v("11")]),s("br"),s("span",{staticClass:"line-number"},[t._v("12")]),s("br")])]),s("h4",{attrs:{id:"winndow"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#winndow"}},[t._v("#")]),t._v(" winndow")]),t._v(" "),s("ol",[s("li",[t._v("Windows-installer.msi å®˜æ–¹å®‰è£…åŒ…ï¼Œå¿«é€Ÿå¼€å§‹ï¼Œæ¨èä½¿ç”¨")]),t._v(" "),s("li",[t._v("nvm-windows windowsç‰ˆæœ¬çš„nvmï¼Œç¤¾åŒºç»´æŠ¤ä¸ç¨³å®š")]),t._v(" "),s("li",[t._v("Cmder é›†æˆå‘½ä»¤è¡Œå·¥å…· ï¼ˆæ¨èï¼‰")]),t._v(" "),s("li",[t._v("WSL Windowæä¾›çš„å†…ç½®Linuxè¿è¡Œç¯å¢ƒï¼Œé…åˆVSCode ï¼ˆæ¨èï¼‰")]),t._v(" "),s("li",[t._v("Windows Terminal")])]),t._v(" "),s("h3",{attrs:{id:"_1-1-2-nodeç‰ˆæœ¬é€‰æ‹©"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1-1-2-nodeç‰ˆæœ¬é€‰æ‹©"}},[t._v("#")]),t._v(" 1.1.2 nodeç‰ˆæœ¬é€‰æ‹©")]),t._v(" "),s("p",[t._v("LTSæ˜¯ç¨³å®šç‰ˆæœ¬ï¼ŒCurrentæœ€æ–°ç‰ˆæœ¬")]),t._v(" "),s("h3",{attrs:{id:"_1-1-3-nodejsæ¨¡å—æœºåˆ¶åŠåŒ…ç®¡ç†å™¨"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1-1-3-nodejsæ¨¡å—æœºåˆ¶åŠåŒ…ç®¡ç†å™¨"}},[t._v("#")]),t._v(" 1.1.3 Nodejsæ¨¡å—æœºåˆ¶åŠåŒ…ç®¡ç†å™¨")]),t._v(" "),s("h4",{attrs:{id:"nodejs-æ¨¡å—æœºåˆ¶"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#nodejs-æ¨¡å—æœºåˆ¶"}},[t._v("#")]),t._v(" nodejs æ¨¡å—æœºåˆ¶")]),t._v(" "),s("ul",[s("li",[t._v("Nodeåº”ç”¨ç”±æ¨¡å—ç»„æˆï¼Œé‡‡ç”¨CJS/ESMæ¨¡å—è§„èŒƒæ¥ç»„ç»‡")]),t._v(" "),s("li",[t._v("æ¯ä¸ªæ–‡ä»¶å°±æ˜¯æ¨¡å—ï¼Œæœ‰è‡ªå·±çš„ä½œç”¨åŸŸ")]),t._v(" "),s("li",[t._v("æ¯ä¸ªæ–‡ä»¶é‡Œé¢å®šä¹‰çš„å˜é‡ã€å‡½æ•°ã€ç±»éƒ½æ˜¯ç§æœ‰çš„ï¼Œå¯¹å…¶ä»–æ–‡ä»¶ä¸å¯è§")]),t._v(" "),s("li",[t._v("åœ¨Nodeä¸­ï¼Œæ¨¡å—çš„åŠ è½½æ˜¯è¿è¡Œæ—¶åŒæ­¥åŠ è½½çš„")]),t._v(" "),s("li",[t._v("æ¨¡å—å¯ä»¥å¤šæ¬¡åŠ è½½ï¼Œä½†æ˜¯åªä¼šåœ¨ç¬¬ä¸€æ¬¡åŠ è½½æ—¶è¿è¡Œä¸€æ¬¡ï¼Œç„¶åè¿è¡Œç»“æœå°±è¢«ç¼“å­˜äº†")])]),t._v(" "),s("h4",{attrs:{id:"æ¨¡å—åŠ è½½æœºåˆ¶-require-export"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#æ¨¡å—åŠ è½½æœºåˆ¶-require-export"}},[t._v("#")]),t._v(" æ¨¡å—åŠ è½½æœºåˆ¶ require/export")]),t._v(" "),s("p",[s("img",{attrs:{src:a(371),alt:""}})]),t._v(" "),s("p",[t._v("åœ¨ä¸€ä¸ªæ–‡ä»¶"),s("code",[t._v("require")]),t._v("ä¸€ä¸ªåŒ…çš„æ—¶å€™ï¼ˆconst xx =require('xx')ï¼‰ï¼Œnodeä¼šçœ‹requireé‡Œçš„è·¯å¾„ç±»å‹ï¼Œ")]),t._v(" "),s("ol",[s("li",[t._v("å¦‚æœæ˜¯ä¸€ä¸ªå†…ç½®æ¨¡å—ï¼Œå°±ç›´æ¥è¿”å›è¿™ä¸ªå†…ç½®æ¨¡å—ï¼Œä¾‹å¦‚ï¼špathã€fsç­‰ã€‚")]),t._v(" "),s("li",[t._v("å¦‚æœæ˜¯ç›¸å¯¹è·¯å¾„æˆ–è€…ç»å¯¹è·¯å¾„ï¼Œnodeä¼šå…ˆæŠŠç›¸å¯¹è·¯å¾„è½¬æ¢æˆç»å¯¹è·¯å¾„ï¼Œä¼šåœ¨å½“å‰è·¯å¾„ä¸‹æŸ¥æ‰¾æ˜¯å¦æœ‰xxæ–‡ä»¶ï¼Œå¦‚æœå­˜åœ¨å°±è¿”å›ï¼Œå¦‚æœæ²¡æ‰¾åˆ°ä¼šæŠŠxxå½“ä½œç›®å½•ï¼Œåœ¨è¿™ä¸ªç›®å½•ä¸‹æŸ¥æ‰¾indexæ–‡ä»¶ï¼Œæ‰¾åˆ°å°±è¿”å›ï¼Œæ²¡æ‰¾åˆ°å°±Can't findã€‚")]),t._v(" "),s("li",[t._v("å¦‚æœæ²¡æœ‰è·¯å¾„å°±æ˜¯æˆ‘ä»¬çš„ç¬¬ä¸‰æ–¹æ¨¡å—ï¼Œæ ¹æ®æ‰€åœ¨çš„çˆ¶æ¨¡å—ç¡®å®šå®‰è£…ç›®å½•ï¼Œåœ¨ç›®å½•ä¸­æŸ¥æ‰¾å…¥å£æ–‡ä»¶ï¼Œè¿™ä¸ªå…¥å£æ–‡ä»¶å°±æ˜¯index.jsæˆ–main.js,binä¸‹çš„æ–‡ä»¶ï¼Œè¿™ä¸ªæ–‡ä»¶ç”±package.jsonæ¥æŒ‡å®šã€‚")])]),t._v(" "),s("p",[t._v("åœ¨nodeå¤„ç†æ¨¡å—åŠ è½½çš„æ—¶å€™ï¼Œè¿˜æœ‰ç¼“å­˜çš„æ¦‚å¿µï¼Œå°±æ˜¯è¯´ç¼“å­˜ä¸­å­˜åœ¨äº†ï¼Œå°±ç›´æ¥è¿”å›ï¼›å†…ç½®æ¨¡å—ç›´æ¥åŠ è½½ï¼›æ ¹æ®æ‰¾åˆ°æ–‡ä»¶åˆ›å»ºæ–°çš„æ¨¡å—å¹¶ç¼“å­˜ã€‚")]),t._v(" "),s("h4",{attrs:{id:"nodejsåŒ…ç®¡ç†å™¨"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#nodejsåŒ…ç®¡ç†å™¨"}},[t._v("#")]),t._v(" nodejsåŒ…ç®¡ç†å™¨")]),t._v(" "),s("ul",[s("li",[t._v("npm ä»£æŒ‡Nodeçš„æ¨¡å—ç”Ÿæ€ï¼Œåˆä»£æŒ‡æ¨¡å—å®‰è£…CLIå·¥å…·")]),t._v(" "),s("li",[t._v("é€šè¿‡package.jsonæ¥æè¿°é¡¹ç›®çš„åŸºæœ¬é…ç½®ä¿¡æ¯å’Œä¾èµ–ï¼Œç»„æˆæ ‘çŠ¶ç»“æ„")]),t._v(" "),s("li",[t._v("ä½¿ç”¨nvmç®¡ç†nodeç‰ˆæœ¬ï¼Œä½¿ç”¨nrmç®¡ç†npmæºï¼Œä½¿ç”¨npxæ‰§è¡Œå‘½ä»¤")]),t._v(" "),s("li",[t._v("ä½¿ç”¨scriptsç»„ç»‡å·¥ç¨‹åŒ–è„šæœ¬å…¥å£")])]),t._v(" "),s("h3",{attrs:{id:"_1-1-4-nodejsçš„èƒ½åŠ›"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1-1-4-nodejsçš„èƒ½åŠ›"}},[t._v("#")]),t._v(" 1.1.4 Nodejsçš„èƒ½åŠ›")]),t._v(" "),s("p",[s("img",{attrs:{src:a(372),alt:""}})]),t._v(" "),s("h2",{attrs:{id:"_1-2-nodejsæä¾›çš„åŸç”Ÿapièƒ½åŠ›-ä¸Š"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1-2-nodejsæä¾›çš„åŸç”Ÿapièƒ½åŠ›-ä¸Š"}},[t._v("#")]),t._v(" 1.2 Nodejsæä¾›çš„åŸç”ŸAPIèƒ½åŠ›ï¼ˆä¸Šï¼‰")]),t._v(" "),s("h4",{attrs:{id:"nodeæ¶æ„"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#nodeæ¶æ„"}},[t._v("#")]),t._v(" nodeæ¶æ„")]),t._v(" "),s("p",[s("img",{attrs:{src:a(373),alt:""}})]),t._v(" "),s("h3",{attrs:{id:"_1-2-1-äº†è§£nodejsæä¾›çš„æ•°æ®ç±»å‹"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1-2-1-äº†è§£nodejsæä¾›çš„æ•°æ®ç±»å‹"}},[t._v("#")]),t._v(" 1.2.1 äº†è§£Nodejsæä¾›çš„æ•°æ®ç±»å‹")]),t._v(" "),s("h4",{attrs:{id:"_1-nodejsæ•°æ®ç±»å‹-buffer"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1-nodejsæ•°æ®ç±»å‹-buffer"}},[t._v("#")]),t._v(" 1. Nodejsæ•°æ®ç±»å‹-Buffer")]),t._v(" "),s("ul",[s("li",[t._v("æµå¼æ•°æ®ï¼ˆéä¸€æ¬¡æ€§åŠ è½½å®Œæˆçš„æ•°æ®ï¼‰ç”±äºäº§ç”Ÿå’Œä½¿ç”¨ä¸ä¸€å®šåŒé€Ÿï¼Œæ‰€ä»¥éœ€è¦ç¼“å­˜")]),t._v(" "),s("li",[t._v("å­˜å‚¨éœ€è¦ä¸´æ—¶å ç”¨å¤§é‡å†…å­˜çš„æ•°æ®ï¼Œå†…å­˜ä¸­å¼€è¾Ÿçš„ä¸€ç‰‡åŒºåŸŸï¼Œç”¨äºå­˜æ”¾äºŒè¿›åˆ¶æ•°æ®")]),t._v(" "),s("li",[t._v("æµçš„ç”Ÿäº§è€…ä¸æ¶ˆè´¹è€…ä¹‹é—´çš„é€Ÿåº¦é€šå¸¸æ˜¯ä¸ä¸€è‡´çš„ï¼Œå› æ­¤éœ€è¦bufferæ¥æš‚å­˜ä¸€äº›æ•°æ®")]),t._v(" "),s("li",[t._v("bufferå¤§å°é€šè¿‡highWaterMarkå‚æ•°æŒ‡å®šï¼Œé»˜è®¤æƒ…å†µä¸‹æ˜¯16kb")])]),t._v(" "),s("p",[s("img",{attrs:{src:a(238),alt:""}})]),t._v(" "),s("p",[t._v("ğŸ… åˆ›å»ºbuffer")]),t._v(" "),s("ul",[s("li",[s("p",[t._v("Buffer.from(buffer | array | string) ä½¿ç”¨å †å¤–å†…å­˜æ–°å¢Buffer")])]),t._v(" "),s("li",[s("p",[t._v("Buffer.from(arrayBuffer) æµ…æ‹·è´arrayBufferï¼Œå…±äº«å†…å­˜")])]),t._v(" "),s("li",[s("p",[t._v("Buffer.alloc(size) åˆ†é…ä¸€ä¸ªæŒ‡å®šå¤§å°çš„Buffer,é»˜è®¤å€¼0ï¼Œä½¿ç”¨UTF-8ç¼–ç ")])]),t._v(" "),s("li",[s("p",[t._v("Buffer.allocUnsafe(size) åˆ†é…ä¸€ä¸ªåˆå§‹åŒ–çš„Buffer")])]),t._v(" "),s("li",[s("p",[t._v("æµå¼æ•°æ®ä¼šè‡ªåŠ¨åˆ›å»ºBufferï¼Œæ‰‹åŠ¨åˆ›å»ºBufferéœ€è°¨æ…")])])]),t._v(" "),s("p",[t._v("ğŸ… åˆ›å»ºBuffer-å‘")]),t._v(" "),s("ul",[s("li",[s("p",[t._v("é¢„åˆ†é…ä¸€ä¸ªå†…éƒ¨çš„å¤§å°ä¸ºBuffer.poolSize(8k)çš„Bufferå®ä¾‹ï¼Œä½œä¸ºå¿«é€Ÿåˆ†é…çš„å†…å­˜æ± ")])]),t._v(" "),s("li",[s("p",[t._v("å¦‚æœallocUnsafe/from(array)çš„sizeå°äº4kï¼Œåˆ™ä»é¢„åˆ†é…çš„æ± å­ä¸­åˆ†é…")])]),t._v(" "),s("li",[s("p",[t._v("ç»•å¼€V8å›æ”¶æœºåˆ¶ï¼Œä½¿ç”¨ä¸“ç”¨å›æ”¶æœºåˆ¶ï¼Œæé«˜æ€§èƒ½å’Œå†…å­˜ä½¿ç”¨æ•ˆç‡")])]),t._v(" "),s("li",[s("p",[t._v("ä½†è¿™ç§ç©æ³•ä¼šå¯¼è‡´æœªåˆå§‹åŒ–çš„æ•°æ®å—æŠ•å…¥ä½¿ç”¨ï¼Œé€ æˆæ•°æ®æ³„éœ²é£é™©")])])]),t._v(" "),s("p",[t._v("ğŸ…  ä½¿ç”¨Buffer")]),t._v(" "),s("ul",[s("li",[s("p",[t._v("è½¬æ¢æ ¼å¼")]),t._v(" "),s("ul",[s("li",[t._v("å­—ç¬¦ä¸²ï¼šç¼–ç Buffer.from(string),è§£ç buf.toString()")]),t._v(" "),s("li",[t._v("JSON:buf.JSON()")])])]),t._v(" "),s("li",[s("p",[t._v("å‰ªè£å’Œæ‹¼æ¥")]),t._v(" "),s("ul",[s("li",[t._v("å‰ªè£ï¼šBuffer.slice()è¡¨ç°ä¸Array.slice()ä¸åŒï¼Œè¿”å›Bufferä¸åŸbufå…±äº«å†…å­˜")]),t._v(" "),s("li",[t._v("æ‹¼æ¥ï¼šbuf.copy/buf.concat è¿”å›æ–°çš„Buffer")])])]),t._v(" "),s("li",[s("p",[t._v("æ¯”è¾ƒå’Œéå†ç´¢å¼•")]),t._v(" "),s("ul",[s("li",[t._v("åˆ¤æ–­ç›¸ç­‰ï¼šbuf1.equals(buf2) æ¯”è¾ƒçš„æ˜¯äºŒè¿›åˆ¶çš„å€¼")]),t._v(" "),s("li",[t._v("ç´¢å¼•ï¼šä½¿ç”¨buf[index]å½¢å¼è¿›è¡Œç´¢å¼•ï¼Œfor...of/indexOf/includesç­‰Arrayæ–¹æ³•ä¹Ÿå¯ä»¥ä½¿ç”¨")])])])]),t._v(" "),s("h4",{attrs:{id:"_2-nodejsæ•°æ®ç±»å‹-stream"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-nodejsæ•°æ®ç±»å‹-stream"}},[t._v("#")]),t._v(" 2. Nodejsæ•°æ®ç±»å‹-Stream")]),t._v(" "),s("ul",[s("li",[t._v("Stream æ¨¡å—æä¾›çš„æ˜¯æŠ½è±¡æ¥å£ï¼Œæœ‰å¾ˆå¤šæ¨¡å—å®ç°äº†è¿™ä¸ªæ¥å£")]),t._v(" "),s("li",[t._v("Stream å°±æ˜¯è§£å†³ç”Ÿäº§è€…å’Œæ¶ˆè´¹è€…é—®é¢˜çš„ä¸€ç§æ–¹å¼ï¼Œè§£å†³å¼‚æ­¥IOé—®é¢˜")]),t._v(" "),s("li",[t._v("Stream æ¨¡å—å¯¹äºæµçš„ä½¿ç”¨è€…è€Œè¨€æ— éœ€å…³å¿ƒ readableSrc.pipe(writableDest)")])]),t._v(" "),s("p",[s("img",{attrs:{src:a(238),alt:""}})]),t._v(" "),s("h4",{attrs:{id:"_3-nodejsæ•°æ®ç±»å‹-event-eventemitter"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_3-nodejsæ•°æ®ç±»å‹-event-eventemitter"}},[t._v("#")]),t._v(" 3. Nodejsæ•°æ®ç±»å‹-event/EventEmitter")]),t._v(" "),s("p",[s("img",{attrs:{src:a(374),alt:""}})]),t._v(" "),s("p",[t._v("eventåªæä¾›äº†EventEmitterä¸€ä¸ªå¯¹è±¡ï¼Œç›¸å½“äºäº‹ä»¶è§¦å‘ï¼Œä¼šè§¦å‘å¾ˆå¤šäº‹ä»¶ï¼Œè§¦å‘äº‹ä»¶ä¼šè¿›å…¥EventLoopï¼Œä¸€æ—¦è§¦å‘ä¼šè¢«Event handlersæ•è·ã€‚\nEventEmitterçš„æ ¸å¿ƒå°±æ˜¯äº‹ä»¶è§¦å‘çš„Emitterï¼Œäº‹ä»¶ç›‘å¬çš„onåŠŸèƒ½è¿›è¡Œå°è£…ï¼Œä¸€ä¸ªç®€å•çš„EventEmitterç»‘å®šä¸€ä¸ªç›‘å¬å™¨ï¼Œç„¶åå»ç›‘å¬äº‹ä»¶ã€‚")]),t._v(" "),s("h4",{attrs:{id:"_4-nodejsæ•°æ®ç±»å‹-error"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_4-nodejsæ•°æ®ç±»å‹-error"}},[t._v("#")]),t._v(" 4. Nodejsæ•°æ®ç±»å‹-Error")]),t._v(" "),s("p",[t._v("ğŸ… é”™è¯¯ç±»å‹")]),t._v(" "),s("ul",[s("li",[t._v("æ ‡å‡†çš„javascripté”™è¯¯ï¼Œæ¯”å¦‚ï¼šSyntaxError/ReferenceError")]),t._v(" "),s("li",[t._v("åº•å±‚æ“ä½œè§¦å‘çš„ç³»ç»Ÿé”™è¯¯ï¼Œæ¯”å¦‚ï¼šæ–‡ä»¶è¯»å†™")]),t._v(" "),s("li",[t._v("ç”¨æˆ·è‡ªå®šä¹‰é”™è¯¯")]),t._v(" "),s("li",[t._v("å¼‚å¸¸é€»è¾‘è§¦å‘çš„AssertionErrorï¼Œé€šå¸¸æ¥è‡ªassertæ¨¡å—")])]),t._v(" "),s("p",[t._v("ğŸ… é”™è¯¯å†’æ³¡å’Œæ•è·")]),t._v(" "),s("ul",[s("li",[t._v("æ‰€æœ‰é€šè¿‡Node.jæˆ–javaScriptè¿è¡Œæ—¶æŠ›å‡ºçš„å¼‚å¸¸éƒ½æ˜¯Errorå®ä¾‹")]),t._v(" "),s("li",[t._v("å¤§å¤šæ•°çš„å¼‚æ­¥æ–¹æ³•æ¥å—ä¸€ä¸ªcallbackå‡½æ•°ï¼Œè¯¥å‡½æ•°ä¼šæ¥å—ä¸€ä¸ªErrorå¯¹è±¡ä¼ å…¥ä½œä¸ºç¬¬ä¸€ä¸ªå‚æ•°")])]),t._v(" "),s("h4",{attrs:{id:"_5-nodejsæ•°æ®ç±»å‹-url"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_5-nodejsæ•°æ®ç±»å‹-url"}},[t._v("#")]),t._v(" 5. Nodejsæ•°æ®ç±»å‹-URL")]),t._v(" "),s("ul",[s("li",[t._v("å¼ƒç”¨urlObjectsï¼Œè¯¥ç”¨WHATWG URL")]),t._v(" "),s("li",[t._v("ä½¿ç”¨URLSearchParamsæ“ä½œå‚æ•°")])]),t._v(" "),s("div",{staticClass:"language-js line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[t._v("  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//  æ¡ˆä¾‹ï¼šæˆªå–params1å’Œparams2=2  https://hejialianghe.github.io?params1=1&params2=2")]),t._v("\n "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 1.æˆªå–urlä¸Šçš„å‚æ•°ï¼ˆè€æ–¹æ³•ï¼‰")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" _query"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("url"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("parse")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("req"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("url"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("query\n  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// _query æ‹¿åˆ°çš„æ˜¯params1=1&params2=2ï¼Œurl.parse(req.url).pathnameï¼Œå¯ä»¥æ‹¿åˆ°https://hejialianghe.github.io?")]),t._v("\n  Querystring"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("parse")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("_query"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'params1'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 2.ä½¿ç”¨URLSearchParamsæ“ä½œå‚æ•°")]),t._v("\n  Object"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("fromEntries")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("URLSearchParams")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("_query"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// {params1:1,params2:2} ")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br"),s("span",{staticClass:"line-number"},[t._v("8")]),s("br")])]),s("h4",{attrs:{id:"_6-nodejsæ•°æ®ç±»å‹-global"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_6-nodejsæ•°æ®ç±»å‹-global"}},[t._v("#")]),t._v(" 6. Nodejsæ•°æ®ç±»å‹-global")]),t._v(" "),s("ul",[s("li",[t._v("çœ‹ä¸Šå»åƒæ˜¯å…¨å±€å˜é‡çš„å­˜åœ¨ï¼Œå®é™…ä¸Šä»…å­˜åœ¨äºæ¨¡å—çš„ä½œç”¨åŸŸä¸­")])]),t._v(" "),s("p",[s("code",[t._v("__dirnameã€__filenameã€exportsã€moduleã€require()")])]),t._v(" "),s("ul",[s("li",[t._v("ä»javaScriptç»§æ‰¿è€Œæ¥çš„å…¨å±€å˜é‡")])]),t._v(" "),s("p",[s("code",[t._v("consoleã€timerå…¨å®¶æ¡¶ã€globalï¼ˆå®¹å™¨ï¼‰")])]),t._v(" "),s("ul",[s("li",[t._v("Nodejsç‰¹æœ‰çš„å…¨å±€å˜é‡")])]),t._v(" "),s("p",[s("code",[t._v("Bufferã€processã€URLã€WepASSembly")])]),t._v(" "),s("p",[t._v("è¿™äº›å¯ä»¥ä¸ç”¨å¤ªæ·±å…¥ï¼Œè‡³å°‘æœ‰è¿™ä¸ªæ¦‚å¿µï¼Œnodeæ¶æ„æœ€åº•å±‚çš„æ•°æ®ç±»å‹ï¼Œå…¶å®æœ‰è¿™äº›æ•°æ®ç±»å‹ï¼Œåœ¨ä¸Šå±‚å»å®ç°å¤æ‚çš„ä¸šåŠ¡é€»è¾‘çš„æ—¶å€™ï¼›å°±å¯ä»¥è°ƒç”¨è¿™äº›æ•°æ®ç±»å‹ï¼Œè¿™æ˜¯nodeå¸®æˆ‘ä»¬å°è£…å¥½çš„ï¼›ä¸ç”¨åœ¨å†å»é€ è½®å­ã€‚")]),t._v(" "),s("h3",{attrs:{id:"_1-2-2-nodejs-å·¥å…·åº“"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1-2-2-nodejs-å·¥å…·åº“"}},[t._v("#")]),t._v(" 1.2.2 Nodejs å·¥å…·åº“")]),t._v(" "),s("h4",{attrs:{id:"nodejså·¥å…·åº“-util"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#nodejså·¥å…·åº“-util"}},[t._v("#")]),t._v(" Nodejså·¥å…·åº“-util")]),t._v(" "),s("p",[t._v("æœ¬æ˜¯å†…ç½®æ¨¡å—å¼€å‘æ—¶çš„å…¬å…±å·¥å…·é›†ï¼Œç°åœ¨å¼€æ”¾ç»™å¼€å‘è€…ä½¿ç”¨")]),t._v(" "),s("p",[t._v("ğŸ… é£æ ¼è½¬æ¢")]),t._v(" "),s("ul",[s("li",[t._v("promisify<=>callbackifyã€TextEncoder<=>TextDecoder")])]),t._v(" "),s("p",[t._v("ğŸ… è°ƒè¯•å·¥å…·")]),t._v(" "),s("ul",[s("li",[t._v("debuglogã€inspectã€formatã€getSystemErrorName")])]),t._v(" "),s("p",[t._v("ğŸ… ç±»å‹åˆ¤æ–­")]),t._v(" "),s("ul",[s("li",[t._v("types.isDate(value)")])]),t._v(" "),s("h4",{attrs:{id:"nodejsæ–­è¨€ç­‰ä»·-assert"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#nodejsæ–­è¨€ç­‰ä»·-assert"}},[t._v("#")]),t._v(" Nodejsæ–­è¨€ç­‰ä»·-assert")]),t._v(" "),s("p",[t._v("å†…ç½®æ–­è¨€åº“ï¼Œéœ€è¦é…åˆæµ‹è¯•æ¡†æ¶ä½¿ç”¨ï¼Œä¸»åŠ¨æŠ›å‡ºAssertionErroré”™è¯¯")]),t._v(" "),s("p",[t._v("ğŸ… æ–­è¨€çœŸå‡")]),t._v(" "),s("ul",[s("li",[t._v("assert(value,msg),match(string,reg)")])]),t._v(" "),s("p",[t._v("ğŸ… æ–­è¨€ç­‰ä»·")]),t._v(" "),s("ul",[s("li",[t._v("strictEqual/deepStrictEqualä»¥åŠç›¸åæ“ä½œequal/deepEqualå¼ƒç”¨")])]),t._v(" "),s("p",[t._v("ğŸ… æ–­è¨€æˆåŠŸå¤±è´¥")]),t._v(" "),s("ul",[s("li",[t._v("fail/throws doesNotThrow/ifError/rejects")])]),t._v(" "),s("h4",{attrs:{id:"nodejså·¥å…·åº“-querystring"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#nodejså·¥å…·åº“-querystring"}},[t._v("#")]),t._v(" Nodejså·¥å…·åº“-querystring")]),t._v(" "),s("p",[t._v("å®˜æ–¹æä¾›çš„è§£æå’Œæ ¼å¼åŒ–URLæŸ¥è¯¢å­—ç¬¦ä¸²çš„å®ç”¨å·¥å…·")]),t._v(" "),s("ul",[s("li",[s("p",[t._v("æŸ¥è¯¢å­—ç¬¦ä¸²è½¬é”®å€¼å¯¹ querystring.parse(str[,sep[eq[,options]]])")])]),t._v(" "),s("li",[s("p",[t._v("é”®å€¼å¯¹è½¬æŸ¥è¯¢å­—ç¬¦ä¸² querystring.stringify(obj)")])])]),t._v(" "),s("h3",{attrs:{id:"_1-2-3-nodejsçš„æ–‡ä»¶æ“ä½œèƒ½åŠ›"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1-2-3-nodejsçš„æ–‡ä»¶æ“ä½œèƒ½åŠ›"}},[t._v("#")]),t._v(" 1.2.3 Nodejsçš„æ–‡ä»¶æ“ä½œèƒ½åŠ›")]),t._v(" "),s("h4",{attrs:{id:"nodejsçš„æ–‡ä»¶æ“ä½œèƒ½åŠ›-os"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#nodejsçš„æ–‡ä»¶æ“ä½œèƒ½åŠ›-os"}},[t._v("#")]),t._v(" Nodejsçš„æ–‡ä»¶æ“ä½œèƒ½åŠ›-os")]),t._v(" "),s("ul",[s("li",[s("p",[t._v("osæ¨¡å—æä¾›äº†ä¸æ“ä½œç³»ç»Ÿç›¸å…³çš„å®ç”¨æ–¹æ³•å’Œå±æ€§")])]),t._v(" "),s("li",[s("p",[t._v("é€šè¿‡å…¼å®¹çš„æ–¹å¼è°ƒç”¨ä¸åŒå¹³å°çš„åº•å±‚å‘½ä»¤ï¼Œå½¢æˆç³»ç»Ÿå¿«ç…§")]),t._v(" "),s("p",[s("code",[t._v("cpusã€platformã€typeã€uptimeã€userInfo")])])]),t._v(" "),s("li",[s("p",[t._v("å®šä¹‰æ“ä½œç³»ç»Ÿçº§åˆ«çš„æšä¸¾å¸¸é‡")])])]),t._v(" "),s("p",[s("code",[t._v("ä¿¡å·å¸¸é‡SIG*ã€é”™è¯¯å¸¸é‡E*ã€windowsç‰¹æœ‰WSA*ã€ä¼˜å…ˆçº§PRIORITY_*")])]),t._v(" "),s("h4",{attrs:{id:"nodejsçš„æ–‡ä»¶æ“ä½œèƒ½åŠ›-fs"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#nodejsçš„æ–‡ä»¶æ“ä½œèƒ½åŠ›-fs"}},[t._v("#")]),t._v(" Nodejsçš„æ–‡ä»¶æ“ä½œèƒ½åŠ›-fs")]),t._v(" "),s("ul",[s("li",[t._v("fsæ¨¡å—æ¨¡æ‹ŸLinuxç¯å¢ƒï¼Œæä¾›äº†ç”¨äºä¸æ–‡ä»¶ç³»ç»Ÿè¿›è¡Œäº¤äº’çš„API")]),t._v(" "),s("li",[t._v("æ‰€æœ‰çš„æ–‡ä»¶ç³»ç»Ÿæ“ä½œéƒ½å…·æœ‰åŒæ­¥å’Œå¼‚æ­¥çš„å½¢å¼")]),t._v(" "),s("li",[t._v("URIä½œä¸ºç‰¹æ®Šçš„æ–‡ä»¶ä¹Ÿå¯ä»¥è¢«fsæ¨¡å—å®ç”¨")]),t._v(" "),s("li",[t._v("æ“ä½œæ–‡ä»¶å¤¹\n"),s("ul",[s("li",[t._v("mkdir/rmdir")])])]),t._v(" "),s("li",[t._v("æ“ä½œæ–‡ä»¶\n"),s("ul",[s("li",[t._v("chmod/open/read/write")])])])]),t._v(" "),s("h3",{attrs:{id:"_1-2-4-nodejsçš„æ–‡ä»¶æ“ä½œèƒ½åŠ›"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1-2-4-nodejsçš„æ–‡ä»¶æ“ä½œèƒ½åŠ›"}},[t._v("#")]),t._v(" 1.2.4 Nodejsçš„æ–‡ä»¶æ“ä½œèƒ½åŠ›")]),t._v(" "),s("p",[s("a",{attrs:{href:"https://developer.mozilla.org/zh-CN/docs/learn/Server-side/Express_Nodejs",target:"_blank",rel:"noopener noreferrer"}},[t._v("MDN ä¸­æä¾›çš„ Nodejs è¯¾ç¨‹"),s("OutboundLink")],1)]),t._v(" "),s("p",[s("a",{attrs:{href:"http://nodejs.cn/",target:"_blank",rel:"noopener noreferrer"}},[t._v("Nodejsä¸­æ–‡æ–‡æ¡£ç«™ç‚¹"),s("OutboundLink")],1)]),t._v(" "),s("p",[s("a",{attrs:{href:"https://juejin.im/post/5d4fb52c518825219c281bd1",target:"_blank",rel:"noopener noreferrer"}},[t._v("Nodejså®‰è£…è¯¦è§£"),s("OutboundLink")],1)]),t._v(" "),s("p",[s("a",{attrs:{href:"https://github.com/sindresorhus/awesome-nodejs",target:"_blank",rel:"noopener noreferrer"}},[t._v("Nodejsä¼˜ç§€é¡¹ç›®é›†åˆ"),s("OutboundLink")],1)]),t._v(" "),s("h2",{attrs:{id:"_1-3-nodejsæä¾›çš„åŸç”Ÿapièƒ½åŠ›-ä¸‹"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1-3-nodejsæä¾›çš„åŸç”Ÿapièƒ½åŠ›-ä¸‹"}},[t._v("#")]),t._v(" 1.3 Nodejsæä¾›çš„åŸç”ŸAPIèƒ½åŠ›ï¼ˆä¸‹ï¼‰")]),t._v(" "),s("h3",{attrs:{id:"_1-3-1-nodejsçš„æ¨¡å—æœºåˆ¶åŠåŸç†"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1-3-1-nodejsçš„æ¨¡å—æœºåˆ¶åŠåŸç†"}},[t._v("#")]),t._v(" 1.3.1 Nodejsçš„æ¨¡å—æœºåˆ¶åŠåŸç†")]),t._v(" "),s("h4",{attrs:{id:"nodejsçš„æ¨¡å—æœºåˆ¶-commonjs"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#nodejsçš„æ¨¡å—æœºåˆ¶-commonjs"}},[t._v("#")]),t._v(" Nodejsçš„æ¨¡å—æœºåˆ¶-CommonJS")]),t._v(" "),s("ul",[s("li",[t._v("æ¨¡å—å¼•ç”¨")])]),t._v(" "),s("p",[t._v("é€šè¿‡requireï¼ˆmoduleï¼‰æ¥å¼•å…¥module")]),t._v(" "),s("ul",[s("li",[t._v("æ¨¡å—å®šä¹‰")])]),t._v(" "),s("p",[t._v("é€šè¿‡æŒ‚è½½åœ¨module.exportså¯¹è±¡ä¸Šå®ç°å®šä¹‰")]),t._v(" "),s("ul",[s("li",[t._v("æ¨¡å—æ ‡è¯†")])]),t._v(" "),s("p",[t._v("é€šè¿‡è·¯å¾„æ ‡è¯†å¼•å…¥çš„æ˜¯å“ªä¸ªæ¨¡å—")]),t._v(" "),s("p",[t._v("åœ¨nodeå¼•å…¥ä¸€ä¸ªæ¨¡å—ä¼šç»å†ä¸‹é¢è¿™4ä¸ªé˜¶æ®µ")]),t._v(" "),s("p",[s("img",{attrs:{src:a(375),alt:""}})]),t._v(" "),s("h4",{attrs:{id:"è·¯å¾„åˆ†æ"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#è·¯å¾„åˆ†æ"}},[t._v("#")]),t._v(" è·¯å¾„åˆ†æ")]),t._v(" "),s("ul",[s("li",[s("p",[t._v("å†…ç½®æ¨¡å—")])]),t._v(" "),s("li",[s("p",[t._v("åœ¨Nodeè¿›ç¨‹å¼€å§‹çš„æ—¶å€™å°±é¢„åŠ è½½äº†")])]),t._v(" "),s("li",[s("p",[t._v("åŠ è½½çš„æ˜¯äºŒè¿›åˆ¶æ–‡ä»¶ï¼Œéœ€è¦å®šä½å’Œç¼–è¯‘")])]),t._v(" "),s("li",[s("p",[t._v("æ–‡ä»¶æ¨¡å—")])]),t._v(" "),s("li",[s("p",[t._v("é€šè¿‡NPMå®‰è£…çš„ç¬¬ä¸‰æ–¹æ¨¡å—")])]),t._v(" "),s("li",[s("p",[t._v("æœ¬åœ°æ¨¡å—")])]),t._v(" "),s("li",[s("p",[t._v("æ¨¡å—å†…å®¹")])]),t._v(" "),s("li",[s("p",[t._v("å‡½æ•°ã€å¯¹è±¡æˆ–è€…å±æ€§ï¼Œå¦‚å‡½æ•°ã€æ•°ç»„ç”šè‡³ä»»æ„ç±»å‹çš„JSå¯¹è±¡")])])]),t._v(" "),s("h4",{attrs:{id:"æ¨¡å—åŠ è½½ä¼˜å…ˆçº§"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#æ¨¡å—åŠ è½½ä¼˜å…ˆçº§"}},[t._v("#")]),t._v(" æ¨¡å—åŠ è½½ä¼˜å…ˆçº§")]),t._v(" "),s("p",[s("img",{attrs:{src:a(376),alt:""}})]),t._v(" "),s("h4",{attrs:{id:"æ¨¡å—æ–‡ä»¶å®šä½"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#æ¨¡å—æ–‡ä»¶å®šä½"}},[t._v("#")]),t._v(" æ¨¡å—æ–‡ä»¶å®šä½")]),t._v(" "),s("p",[s("img",{attrs:{src:a(377),alt:""}})]),t._v(" "),s("h4",{attrs:{id:"ç¼–è¯‘æ¨¡å—æ‰§è¡Œ"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#ç¼–è¯‘æ¨¡å—æ‰§è¡Œ"}},[t._v("#")]),t._v(" ç¼–è¯‘æ¨¡å—æ‰§è¡Œ")]),t._v(" "),s("ul",[s("li",[s("p",[t._v(".js æ–‡ä»¶ï¼š")]),t._v(" "),s("ul",[s("li",[t._v("é€šè¿‡fsæ¨¡å—åŒæ­¥è¯»å–åç¼–è¯‘æ‰§è¡Œï¼Œæœªè¯†åˆ«ç±»å‹ä¹Ÿä¼šå½“ä½œjså¤„ç†")])])]),t._v(" "),s("li",[s("p",[t._v(".json æ–‡ä»¶ï¼š")]),t._v(" "),s("ul",[s("li",[t._v("é€šè¿‡fsæ¨¡å—åŒæ­¥è¯»å–åï¼Œç”¨JSON.parse()è§£æå¹¶è¿”å›ç»“æœ")])])]),t._v(" "),s("li",[s("p",[t._v(".node æ–‡ä»¶ï¼š")]),t._v(" "),s("ul",[s("li",[t._v("è¿™æ˜¯ç”¨C/C++å†™çš„æ‰©å±•æ–‡ä»¶ï¼Œé€šè¿‡process.dlopen()æ–¹æ³•åŠ è½½æœ€åç¼–è¯‘ç”Ÿæˆçš„")])])])]),t._v(" "),s("h4",{attrs:{id:"æ¨¡å—jsæ–‡ä»¶çš„ç¼–è¯‘"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#æ¨¡å—jsæ–‡ä»¶çš„ç¼–è¯‘"}},[t._v("#")]),t._v(" æ¨¡å—jsæ–‡ä»¶çš„ç¼–è¯‘")]),t._v(" "),s("ul",[s("li",[t._v("æ³¨å…¥å…¨å±€å˜é‡\n"),s("ul",[s("li",[t._v("ä»¥å‚æ•°å½¢å¼ï¼Œæ³¨å…¥module/exports/requireæ–¹æ³•")]),t._v(" "),s("li",[t._v("åŒæ—¶æ³¨å…¥è·¯å¾„è§£ææ—¶å¾—åˆ°çš„__filename/__dirname")])])]),t._v(" "),s("li",[t._v("æ„é€ ä¸Šä¸‹æ–‡æ‰§è¡Œç¯å¢ƒ\n"),s("ul",[s("li",[t._v("é—­åŒ…äº§ç”Ÿä½œç”¨åŸŸï¼Œé€šè¿‡runlnThisContext()æ‰§è¡Œ")]),t._v(" "),s("li",[t._v("å°†functionå¯¹è±¡æŒ‚è½½åˆ°exportså¯¹è±¡ä¸Šï¼Œå¹¶å¯¼å‡º")])])])]),t._v(" "),s("h4",{attrs:{id:"åŠ å…¥ç¼“å­˜ä»¥åŠæ¸…é™¤ç¼“å­˜"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#åŠ å…¥ç¼“å­˜ä»¥åŠæ¸…é™¤ç¼“å­˜"}},[t._v("#")]),t._v(" åŠ å…¥ç¼“å­˜ä»¥åŠæ¸…é™¤ç¼“å­˜")]),t._v(" "),s("ul",[s("li",[s("p",[t._v("æ ¸å¿ƒæ¨¡å—")]),t._v(" "),s("ul",[s("li",[t._v("ç™»è®°åœ¨NativeModeule._cacheä¸Š")])])]),t._v(" "),s("li",[s("p",[t._v("æ–‡ä»¶æ¨¡å—")]),t._v(" "),s("ul",[s("li",[t._v("å°è£…åçš„æ–¹æ³•ä»¥å­—ç¬¦ä¸²å½¢å¼å­˜å‚¨ï¼Œç­‰å¾…è°ƒç”¨")])])]),t._v(" "),s("li",[s("p",[t._v("æ¸…é™¤ç¼“å­˜")]),t._v(" "),s("ul",[s("li",[t._v("é€šè¿‡delete require.catch[require.resolove(module)]")])])])]),t._v(" "),s("h4",{attrs:{id:"import-vs-require"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#import-vs-require"}},[t._v("#")]),t._v(" import vs require")]),t._v(" "),s("ul",[s("li",[s("p",[t._v("import")]),t._v(" "),s("ul",[s("li",[t._v("ES6è§„èŒƒ")]),t._v(" "),s("li",[t._v("é™æ€åŠ è½½æ¨¡å—")]),t._v(" "),s("li",[t._v("ç¼–è¯‘çš„æ—¶å€™æ‰§è¡Œä»£ç ")]),t._v(" "),s("li",[t._v("ç¼“å­˜æ‰§è¡Œç»“æœ")]),t._v(" "),s("li",[t._v("æŒ‰éœ€å¼•å…¥ï¼ŒèŠ‚çœå†…å­˜")])])]),t._v(" "),s("li",[s("p",[t._v("require")]),t._v(" "),s("ul",[s("li",[t._v("commonJSè§„èŒƒ")]),t._v(" "),s("li",[t._v("åŠ¨æ€åŠ è½½æ¨¡å—")]),t._v(" "),s("li",[t._v("è°ƒç”¨çš„æ—¶å€™åŠ è½½æºç ")]),t._v(" "),s("li",[t._v("åŠ è½½å…¨éƒ¨ä»£ç ")])]),t._v(" "),s("h3",{attrs:{id:"_1-3-2-nodejsçš„ç½‘ç»œç¼–ç¨‹èƒ½åŠ›"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1-3-2-nodejsçš„ç½‘ç»œç¼–ç¨‹èƒ½åŠ›"}},[t._v("#")]),t._v(" 1.3.2 Nodejsçš„ç½‘ç»œç¼–ç¨‹èƒ½åŠ›")]),t._v(" "),s("h4",{attrs:{id:"ç½‘ç»œæ¨¡å‹-osi-tcp-ip"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#ç½‘ç»œæ¨¡å‹-osi-tcp-ip"}},[t._v("#")]),t._v(" ç½‘ç»œæ¨¡å‹ OSI & TCP/IP")])])]),t._v(" "),s("p",[s("img",{attrs:{src:a(378),alt:""}})]),t._v(" "),s("h4",{attrs:{id:"soket"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#soket"}},[t._v("#")]),t._v(" Soket")]),t._v(" "),s("ul",[s("li",[t._v("å®ç°åº•å±‚é€šä¿¡ï¼Œå‡ ä¹æ‰€æœ‰çš„åº”ç”¨å±‚éƒ½æ˜¯é€šè¿‡socketè¿›è¡Œé€šä¿¡")]),t._v(" "),s("li",[t._v("å¯¹TCP/IPåè®®è¿›è¡Œå°è£…ï¼Œå‘åº”ç”¨å±‚åè®®æš´éœ²æ¥å£è°ƒç”¨")]),t._v(" "),s("li",[t._v("TCP/IPåè®®ä¸­ï¼Œä¼ è¾“å±‚å­˜åœ¨ä¸¤ç§é€šç”¨åè®®ï¼šTCPã€UDP")]),t._v(" "),s("li",[t._v("ä¸¤ç§åè®®ä¸åŒï¼Œå› ä¸ºä¸åŒå‚æ•°çš„socketå®ç°è¿‡ç¨‹ä¹Ÿä¸ä¸€æ ·")])]),t._v(" "),s("h4",{attrs:{id:"nodejsç½‘ç»œåŸºç¡€æ¨¡å—-net-dgram"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#nodejsç½‘ç»œåŸºç¡€æ¨¡å—-net-dgram"}},[t._v("#")]),t._v(" Nodejsç½‘ç»œåŸºç¡€æ¨¡å—-net/dgram")]),t._v(" "),s("ul",[s("li",[t._v("net æ¨¡å—æ˜¯TCP/IPçš„Nodeå®ç°ï¼Œæä¾›ä¸€äº›ç”¨äºåº•å±‚çš„ç½‘ç»œé€šä¿¡çš„å°å·¥å…·")]),t._v(" "),s("li",[t._v("http.Server ç»§æ‰¿è‡ªnet.Server")]),t._v(" "),s("li",[t._v("http å®¢æˆ·ç«¯ä¸httpæœåŠ¡ç«¯çš„é€šä¿¡å‡ä¾èµ–ä¸socketï¼ˆnet.Socketï¼‰\n"),s("ul",[s("li",[t._v("net.Server: TCP server,å†…éƒ¨é€šè¿‡socketæ¥å®ç°ä¸å®¢æˆ·ç«¯çš„é€šä¿¡")]),t._v(" "),s("li",[t._v("net.Socket: æœ¬åœ°socketä¸nodeç‰ˆå®ç°ï¼Œå®ƒå®ç°äº†å…¨åŒå·¥çš„streamæ¥å£")])])])]),t._v(" "),s("h4",{attrs:{id:"nodejsç½‘ç»œåŸºç¡€æ¨¡å—-net-socket"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#nodejsç½‘ç»œåŸºç¡€æ¨¡å—-net-socket"}},[t._v("#")]),t._v(" Nodejsç½‘ç»œåŸºç¡€æ¨¡å—-net.Socket")]),t._v(" "),s("ul",[s("li",[s("p",[t._v("net.Socket å¯¹è±¡æ˜¯TCPæˆ–UNIX Socket çš„æŠ½è±¡")])]),t._v(" "),s("li",[s("p",[t._v("net.Socket å®ä¾‹å®ç°äº†ä¸€ä¸ªåŒå·¥æµæ¥å£")])]),t._v(" "),s("li",[s("p",[t._v("APIå½’çº³")]),t._v(" "),s("ul",[s("li",[t._v("è¿æ¥ç›¸å…³connect")]),t._v(" "),s("li",[t._v("æ•°æ®è¯»å†™ write")]),t._v(" "),s("li",[t._v("æ•°æ®å±æ€§ bufferSize")]),t._v(" "),s("li",[t._v("åœ°å€ç›¸å…³ address")])])])]),t._v(" "),s("h4",{attrs:{id:"nodejsç½‘ç»œåŸºç¡€æ¨¡å—-http-https-http2"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#nodejsç½‘ç»œåŸºç¡€æ¨¡å—-http-https-http2"}},[t._v("#")]),t._v(" Nodejsç½‘ç»œåŸºç¡€æ¨¡å—-http/https/http2")]),t._v(" "),s("ul",[s("li",[t._v("Httpæ¨¡å—æ˜¯Nodeçš„é—¨è„¸ï¼Œæ˜¯ç¼–å†™Web Serveræœ€å¸¸è§çš„æ¨¡å—")]),t._v(" "),s("li",[t._v("Serveréƒ¨åˆ†ç»§æ‰¿è‡ªnet.Server,å¹¶å¯¹è¯·æ±‚å’Œå“åº”æ•°æ®è¿›è¡Œå°è£…")]),t._v(" "),s("li",[t._v("ä¹Ÿæä¾›äº†request/getçš„èƒ½åŠ›ï¼Œå…è®¸å‘å…¶ä»–æœåŠ¡ç«¯å‘èµ·HTTPè¯·æ±‚")]),t._v(" "),s("li",[t._v("Nodeå°è£…äº†HTTPS/HTTP2çš„å®ç°ï¼Œå¯ä»¥è½»æ¾åˆ›å»ºç±»HTTPæœåŠ¡")])]),t._v(" "),s("h3",{attrs:{id:"_1-3-3-çš„è¿›ç¨‹ç®¡ç†"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1-3-3-çš„è¿›ç¨‹ç®¡ç†"}},[t._v("#")]),t._v(" 1.3.3 çš„è¿›ç¨‹ç®¡ç†")]),t._v(" "),s("h4",{attrs:{id:"æ“ä½œç³»ç»Ÿçš„è¿›ç¨‹å’Œçº¿å±‚"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#æ“ä½œç³»ç»Ÿçš„è¿›ç¨‹å’Œçº¿å±‚"}},[t._v("#")]),t._v(" æ“ä½œç³»ç»Ÿçš„è¿›ç¨‹å’Œçº¿å±‚")]),t._v(" "),s("ul",[s("li",[t._v("è¿è¡Œä»»åŠ¡çš„ç¨‹åºå«åšâ€œè¿›ç¨‹â€ï¼Œä¸€ä¸ªè¿›ç¨‹åªèƒ½æ‰§è¡Œä¸€ä¸ªä»»åŠ¡")]),t._v(" "),s("li",[t._v("è¿›ç¨‹å¹¶å‘ï¼šä»¥å¤šè¿›ç¨‹å½¢å¼ï¼Œå…è®¸å¤šä¸ªä»»åŠ¡åŒæ—¶è¿è¡Œ")]),t._v(" "),s("li",[t._v("çº¿å±‚å¹¶å‘ï¼šä»¥å¤šçº¿ç¨‹å½¢å¼ï¼Œå…è®¸å•ä¸ªä»»åŠ¡åˆ†æˆä¸åŒçš„éƒ¨åˆ†è¿è¡Œ")]),t._v(" "),s("li",[t._v("æ“ä½œç³»ç»Ÿæä¾›åè°ƒæœºåˆ¶ï¼Œé˜²æ­¢å†²çªï¼Œå…±äº«èµ„æº")]),t._v(" "),s("li",[t._v("javascriptæ˜¯å•çº¿å±‚è¯­è¨€ï¼Œæ‰€ä»¥å¤šä¸ªä»»åŠ¡åªèƒ½æ’é˜Ÿè¿è¡Œ")])]),t._v(" "),s("h4",{attrs:{id:"å¤šè¿›ç¨‹vså¤šçº¿ç¨‹"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#å¤šè¿›ç¨‹vså¤šçº¿ç¨‹"}},[t._v("#")]),t._v(" å¤šè¿›ç¨‹vså¤šçº¿ç¨‹")]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",{staticStyle:{"text-align":"center"}},[t._v("ç»´åº¦")]),t._v(" "),s("th",{staticStyle:{"text-align":"center"}},[t._v("å¤šè¿›ç¨‹")]),t._v(" "),s("th",{staticStyle:{"text-align":"center"}},[t._v("å¤šçº¿ç¨‹")]),t._v(" "),s("th",{staticStyle:{"text-align":"center"}},[t._v("æ¯”è¾ƒ")])])]),t._v(" "),s("tbody",[s("tr",[s("td",{staticStyle:{"text-align":"center"}},[t._v("æ•°æ®å…±äº«")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("æ•°æ®å…±äº«å¤æ‚ï¼Œéœ€è¦ç”¨IPCï¼›æ•°æ®æ˜¯åˆ†å¼€çš„ï¼ŒåŒæ­¥ç®€å•")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("å› ä¸ºå…±äº«è¿›ç¨‹æ•°æ®ï¼Œæ•°æ®å…±äº«ç®€å•ï¼ŒåŒæ­¥å¤æ‚")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("å„æœ‰åƒç§‹")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"center"}},[t._v("èµ„æºåˆ©ç”¨")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("å ç”¨å†…å­˜ï¼Œåˆ‡æ¢å¤æ‚ï¼ŒCPUåˆ©ç”¨ç‡ä½")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("å ç”¨å†…å­˜å°‘ï¼Œåˆ‡æ¢ç®€å•ï¼Œcpuåˆ©ç”¨é«˜")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("å¤šçº¿ç¨‹æ›´å¥½")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"center"}},[t._v("æ€§èƒ½å¼€é”€")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("åˆ›å»ºé”€æ¯ã€åˆ‡æ¢å¤æ‚ã€é€Ÿåº¦æ…¢")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("åˆ›å»ºé”€æ¯ã€åˆ‡æ¢ç®€å•ã€é€Ÿåº¦å¾ˆå¿«")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("å¤šçº¿ç¨‹æ›´å¥½")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"center"}},[t._v("ç¼–ç å®è·µ")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("ç¼–ç ç®€å•ã€è°ƒè¯•æ–¹ä¾¿")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("ç¼–ç ã€è°ƒè¯•å¤æ‚")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("å¤šè¿›ç¨‹æ›´å¥½")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"center"}},[t._v("å¯é æ€§")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("è¿›ç¨‹ç‹¬ç«‹è¿è¡Œï¼Œä¸ä¼šç›¸äº’å½±å“")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("çº¿ç¨‹å‘¼å¸å…±å‘½è¿")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("å¤šè¿›ç¨‹æ›´å¥½")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"center"}},[t._v("åˆ†å¸ƒå¼æ”¯æŒ")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("å¯ç”¨äºå¤šæœºå¤šæ ¸åˆ†å¸ƒå¼ï¼Œæ˜“äºæ‰©å±•")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("åªèƒ½ç”¨äºå¤šæ ¸åˆ†å¸ƒå¼")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("å¤šè¿›ç¨‹æ›´å¥½")])])])]),t._v(" "),s("h4",{attrs:{id:"event-loop"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#event-loop"}},[t._v("#")]),t._v(" Event Loop")]),t._v(" "),s("ul",[s("li",[t._v("javascripté€šè¿‡EventLoopçš„å½¢å¼è§£å†³å•çº¿ç¨‹ä»»åŠ¡è°ƒåº¦é—®é¢˜")]),t._v(" "),s("li",[t._v("EventLoopæ˜¯ä¸€ä¸ªç¨‹åºç»“æ„ï¼Œç”¨äºç­‰å¾…å’Œå‘é€æ¶ˆæ¯å’Œäº‹ä»¶")]),t._v(" "),s("li",[t._v("æµè§ˆå™¨çš„Event loopå’ŒNodeçš„Event loopæ˜¯ä¸¤ä¸ªæ¦‚å¿µ")])]),t._v(" "),s("h4",{attrs:{id:"æµè§ˆå™¨çš„event-loop"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#æµè§ˆå™¨çš„event-loop"}},[t._v("#")]),t._v(" æµè§ˆå™¨çš„Event Loop")]),t._v(" "),s("p",[s("img",{attrs:{src:a(379),alt:""}})]),t._v(" "),s("h4",{attrs:{id:"nodejs-event-loop"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#nodejs-event-loop"}},[t._v("#")]),t._v(" Nodejs-Event Loop")]),t._v(" "),s("p",[s("img",{attrs:{src:a(380),alt:""}})]),t._v(" "),s("p",[t._v("nodeé‡‡ç”¨v8ä½œä¸ºjsè§£æå¼•æ“ï¼Œioå¤„ç†æ–¹é¢ç”¨åˆ°äº†è‡ªå·±çš„LIBUVï¼ŒLIBUVæ˜¯è·¨å¹³å°çš„æŠ½è±¡å±‚ï¼Œå°è£…äº†ä¸åŒå¹³å°çš„åº•å±‚ç‰¹æ€§ï¼Œå¯¹å¤–æä¾›äº†ç»Ÿä¸€çš„apiï¼›äº‹ä»¶å¾ªç¯æœºåˆ¶ä¹Ÿæ˜¯å®ƒé‡Œé¢å®ç°çš„ï¼Œæ‰€ä»¥v8å¼•æ“è§£æjsè„šæœ¬ï¼Œè§£æåçš„ä»£ç è°ƒç”¨nodeAPIï¼›LIBUVåº“è´Ÿè´£nodeAPIçš„æ‰§è¡Œï¼Œå°†ä¸åŒçš„ä»»åŠ¡åˆ†é…ç»™ä¸åŒçš„çº¿ç¨‹å½¢æˆä¸€ä¸ªEventloopï¼Œå°†ä¸åŒçš„ä»»åŠ¡åˆ†é…ç»™ä¸åŒçš„çº¿ç¨‹ï¼Œä»¥å¼‚æ­¥çš„å½¢å¼å°†ç»“æœè¿”å›ç»™v8ï¼Œv8åœ¨å°†ç»“æœè¿”å›ç»™ç”¨æˆ·ï¼›LIBUVå¼•æ“åˆ†ä¸º6ä¸ªé˜¶æ®µï¼Œå®ƒä¼šæŒ‰ç…§é¡ºåºåå¤æ‰§è¡Œï¼Œæ¯å½“\nè¿›å…¥æŸä¸ªé˜¶æ®µçš„æ—¶å€™ï¼Œéƒ½ä¼šä»å¯¹åº”çš„å›è°ƒé˜Ÿåˆ—ä¸­æŠ½å–å‡½æ•°å»æ‰§è¡Œï¼Œå½“é˜Ÿåˆ—ä¸ºç©ºæˆ–å›è°ƒå‡½æ•°è¾¾åˆ°ç³»ç»Ÿè®¾ç½®çš„å€¼çš„æ—¶å€™ï¼Œå°±ä¼šè¿›å…¥ä¸‹ä¸€ä¸ªé˜¶æ®µ")]),t._v(" "),s("h4",{attrs:{id:"nodejsè¿›ç¨‹-process"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#nodejsè¿›ç¨‹-process"}},[t._v("#")]),t._v(" Nodejsè¿›ç¨‹-process")]),t._v(" "),s("ul",[s("li",[t._v("Processæ˜¯ä¸€ä¸ªå…¨å±€çš„å¯¹è±¡ï¼Œæ— éœ€requireç›´æ¥ä½¿ç”¨ï¼Œæä¾›è¿›ç¨‹æè¿°")]),t._v(" "),s("li",[t._v("processå¯¹è±¡æ˜¯EventEmiterçš„å®ä¾‹ï¼Œæš´éœ²äº†è¿›ç¨‹äº‹ä»¶çš„é’©å­\n"),s("ul",[s("li",[t._v("exit ç›‘å¬è¿›ç¨‹é€€å‡º")]),t._v(" "),s("li",[t._v("uncaughException ç›‘å¬å¼‚å¸¸")])])]),t._v(" "),s("li",[t._v("æä¾›æ ‡å‡†çš„è¾“å‡ºï¼Œå¯¹åº”çš„æ˜¯è¿›ç¨‹çš„I/Oæ“ä½œ\n"),s("ul",[s("li",[t._v("nodeç‰ˆæœ¬çš„consoleåº•å±‚æ˜¯ç”±stdioå®ç°çš„")]),t._v(" "),s("li",[t._v("æ•°æ®æµä¸å…¶ä»–åŒå·¥æ•°æ®æµä¸åŒï¼ŒåŒæ­¥å†™ä¼šé˜»å¡è¿›ç¨‹å¯¼è‡´æ€§èƒ½å¼€é”€")])])])]),t._v(" "),s("h4",{attrs:{id:"nodejsè¿›ç¨‹åˆ›å»º-child-process-å­è¿›ç¨‹-cluster"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#nodejsè¿›ç¨‹åˆ›å»º-child-process-å­è¿›ç¨‹-cluster"}},[t._v("#")]),t._v(" Nodejsè¿›ç¨‹åˆ›å»º-child_process(å­è¿›ç¨‹)/cluster")]),t._v(" "),s("ul",[s("li",[s("p",[t._v("child_process æ˜¯ Node.jsçš„å†…ç½®æ¨¡å—")]),t._v(" "),s("ul",[s("li",[t._v("spawnï¼šé€‚ç”¨äºè¿”å›å¤§é‡æ•°æ®ï¼Œä¾‹å¦‚å›¾åƒå¤„ç†ï¼ŒäºŒè¿›åˆ¶æ•°æ®å¤„ç†")]),t._v(" "),s("li",[t._v("execï¼šé€‚ç”¨äºå°é‡æ•°æ®ï¼ŒmaxBufferé»˜è®¤å€¼ä¸º200*1024è¶…å‡ºå´©æºƒ")]),t._v(" "),s("li",[t._v("forkï¼šè¡ç”Ÿæ–°çš„è¿›ç¨‹ï¼Œè¿›ç¨‹ä¹‹é—´æ˜¯ç›¸äº’ç‹¬ç«‹çš„ï¼Œæ¯ä¸ªè¿›ç¨‹ç‹¬ç«‹")])])]),t._v(" "),s("li",[s("p",[t._v("cluster æ˜¯Node.js çš„å†…ç½®æ¨¡å—")]),t._v(" "),s("ul",[s("li",[t._v("Worker å¯¹è±¡åŒ…å«äº†å…³äºå·¥ä½œè¿›ç¨‹çš„æ‰€æœ‰å…¬å…±çš„ä¿¡æ¯å’Œæ–¹æ³•")]),t._v(" "),s("li",[t._v("forkï¼šè¡ç”Ÿæ–°çš„è¿›ç¨‹ï¼Œè¿›ç¨‹ä¹‹é—´æ˜¯ç›¸äº’ç‹¬ç«‹çš„ï¼Œæ¯ä¸ªè¿›ç¨‹ç‹¬ç«‹")]),t._v(" "),s("li",[t._v("ä½¿ç”¨ä¸»ä»æ¨¡å‹è½®è¯¢å¤„ç†æœåŠ¡çš„è´Ÿè½½ä»»åŠ¡ï¼Œé€šè¿‡IPCé€šä¿¡")])])])]),t._v(" "),s("h4",{attrs:{id:"è¿›ç¨‹å®ˆæŠ¤"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#è¿›ç¨‹å®ˆæŠ¤"}},[t._v("#")]),t._v(" è¿›ç¨‹å®ˆæŠ¤")]),t._v(" "),s("p",[t._v("pm2")]),t._v(" "),s("h3",{attrs:{id:"_1-3-4-æ‰©å±•èµ„æ–™"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1-3-4-æ‰©å±•èµ„æ–™"}},[t._v("#")]),t._v(" 1.3.4 æ‰©å±•èµ„æ–™")]),t._v(" "),s("p",[s("a",{attrs:{href:"https://blog.fundebug.com/2019/01/15/diffrences-of-browser-and-node-in-event-loop/",target:"_blank",rel:"noopener noreferrer"}},[t._v("æµè§ˆå™¨ä¸Nodeçš„äº‹ä»¶å¾ªç¯(Event Loop)æœ‰ä½•åŒºåˆ«?"),s("OutboundLink")],1)]),t._v(" "),s("p",[s("a",{attrs:{href:"https://itbilu.com/nodejs/core/N1tv0Pgd-.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("NodejsåŸç”Ÿæ¨¡å—æ•´ç†"),s("OutboundLink")],1)]),t._v(" "),s("p",[s("a",{attrs:{href:"https://juejin.im/entry/5b4b5081e51d451984696cb7",target:"_blank",rel:"noopener noreferrer"}},[t._v("Nodejsä¸­çš„æ¨¡å—æœºåˆ¶"),s("OutboundLink")],1)]),t._v(" "),s("p",[s("a",{attrs:{href:"https://juejin.im/post/5d43017be51d4561f40adcf9",target:"_blank",rel:"noopener noreferrer"}},[t._v("æ·±å…¥ç†è§£Nodejsä¸­çš„è¿›ç¨‹ä¸çº¿ç¨‹"),s("OutboundLink")],1)]),t._v(" "),s("p",[s("a",{attrs:{href:"http://nodejs.cn/",target:"_blank",rel:"noopener noreferrer"}},[t._v("Nodejsä¸­æ–‡æ–‡æ¡£ç«™ç‚¹"),s("OutboundLink")],1)]),t._v(" "),s("h2",{attrs:{id:"_1-4-nodejsåŸç”Ÿweb-serverå®æˆ˜"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1-4-nodejsåŸç”Ÿweb-serverå®æˆ˜"}},[t._v("#")]),t._v(" 1.4 NodejsåŸç”ŸWeb Serverå®æˆ˜")]),t._v(" "),s("h3",{attrs:{id:"_1-4-1-web-serverçš„æ„æˆ"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1-4-1-web-serverçš„æ„æˆ"}},[t._v("#")]),t._v(" 1.4.1 Web Serverçš„æ„æˆ")]),t._v(" "),s("ul",[s("li",[t._v("å¤„ç†HTTPï¼šå¯¹HTTPçš„åŠ¨è¯ï¼ˆGET/POST/PUTï¼‰è¿›è¡Œå“åº”")]),t._v(" "),s("li",[t._v("è·¯ç”±ç®¡ç†ï¼šåˆ†åˆ«å¤„ç†ä¸åŒURLè·¯å¾„çš„è¯·æ±‚ï¼Œè¿”å›å¯¹åº”çš„ç½‘ç»œèµ„æº")]),t._v(" "),s("li",[t._v("é™æ€æ–‡ä»¶æ‰˜ç®¡ï¼šå¯¹ç½‘ç»œè¯·æ±‚çš„é™æ€èµ„æºè¿›è¡Œå“åº”æˆ–ä½¿ç”¨æ¨¡ç‰ˆåŠ¨æ€å“åº”è¯·æ±‚")]),t._v(" "),s("li",[t._v("æ–‡ä»¶æ•°æ®å­˜å‚¨ï¼šå°†è¯·æ±‚æºå¸¦çš„æ•°æ®å­˜å‚¨åˆ°æ–‡ä»¶æˆ–åˆ™æ•°æ®åº“ä¸­")])]),t._v(" "),s("h4",{attrs:{id:"web-serverçš„åŸºæœ¬æ¶æ„"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#web-serverçš„åŸºæœ¬æ¶æ„"}},[t._v("#")]),t._v(" Web Serverçš„åŸºæœ¬æ¶æ„")]),t._v(" "),s("p",[s("img",{attrs:{src:a(381),alt:""}})]),t._v(" "),s("h3",{attrs:{id:"_1-4-2-web-serverçš„ä¼˜åŠ¿"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1-4-2-web-serverçš„ä¼˜åŠ¿"}},[t._v("#")]),t._v(" 1.4.2 Web Serverçš„ä¼˜åŠ¿")]),t._v(" "),s("ul",[s("li",[s("p",[t._v("å¹¶å‘æ€§èƒ½ä¼˜åŠ¿")]),t._v(" "),s("p",[t._v("åŸºäºäº‹ä»¶é©±åŠ¨çš„æœåŠ¡åœ¨å“åº”è¯·æ±‚çš„åœºæ™¯ä¸­æœ‰æé«˜çš„å¹¶å‘æ€§èƒ½è¡¨ç°")])]),t._v(" "),s("li",[s("p",[t._v("javascript")])])]),t._v(" "),s("p",[t._v("å‡å°‘å­¦ä¹ æˆæœ¬ï¼Œä½¿ç”¨æœ€æµè¡Œçš„javascriptæˆ–å…¶ä»–å¯ç¼–è¯‘/è½¬æ¢ä¸ºjavascriptçš„è¯­è¨€å‡å¯å®ç°")]),t._v(" "),s("ul",[s("li",[t._v("ç”Ÿæ€æ´»è·ƒå®Œå–„")])]),t._v(" "),s("p",[t._v("npmæä¾›äº†æ•°åä¸‡ä¸ªå¯é‡ç”¨çš„å·¥å…·åŒ…ï¼Œå®ƒè¿˜æä¾›äº†ä¸€æµçš„ä¾èµ–è§£å†³æ–¹æ¡ˆï¼Œå¯å®ç°è‡ªåŠ¨åŒ–å·¥å…·é“¾æ„å»º")]),t._v(" "),s("ul",[s("li",[t._v("ä»£ç å¯ç§»æ¤")])]),t._v(" "),s("p",[t._v("å…¼å®¹å„ç§æ“ä½œç³»ç»Ÿè¿è¡Œç¯å¢ƒï¼Œä¸€ä»½ä»£ç å¯ä»¥è¿è¡Œåœ¨å¤šç§ç¯å¢ƒä¸­")]),t._v(" "),s("ul",[s("li",[t._v("æ¡†æ¶é«˜åº¦åŒ…å®¹")])]),t._v(" "),s("p",[t._v("NodeåŠNodeçš„Webæ¡†æ¶éƒ½æ‹¥æœ‰å¤©ç„¶çš„åŒ…å®¹æ€§ï¼Œæ˜“äºæ‰©å±•å’Œç»´æŠ¤")]),t._v(" "),s("ul",[s("li",[t._v("å‹å¥½çš„ç¤¾åŒºæ°›å›´")])]),t._v(" "),s("p",[t._v("ä¸°å¯Œçš„ç”Ÿæ€è¯ç”Ÿäº†å¤§é‡çš„å¼€æºç¤¾åŒºï¼Œèšé›†äº†ä¼—å¤šä¼˜ç§€çš„å¼€å‘äººå‘˜")]),t._v(" "),s("h3",{attrs:{id:"_1-4-3-web-serverçš„æœ€å°ç³»ç»Ÿ"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1-4-3-web-serverçš„æœ€å°ç³»ç»Ÿ"}},[t._v("#")]),t._v(" 1.4.3 Web Serverçš„æœ€å°ç³»ç»Ÿ")]),t._v(" "),s("h4",{attrs:{id:"_1-ä¸€ä¸ªç®€å•çš„httpæœåŠ¡"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1-ä¸€ä¸ªç®€å•çš„httpæœåŠ¡"}},[t._v("#")]),t._v(" 1. ä¸€ä¸ªç®€å•çš„httpæœåŠ¡")]),t._v(" "),s("div",{staticClass:"language-js line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[t._v("    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" http"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("require")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'http'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    http"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("createServer")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("req"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("res")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        res"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("write")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'Hello World'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n        res"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("end")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("listen")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1000")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br")])]),s("ol",[s("li",[s("p",[t._v("æ‰§è¡Œ "),s("code",[t._v("node index.js")]),t._v("è¿è¡Œï¼Œæµè§ˆå™¨è®¿é—®"),s("code",[t._v("http://localhost:1000/")]),t._v(",")])]),t._v(" "),s("li",[s("p",[t._v("ä¹Ÿå¯ä»¥ä¸‹è½½åŒ…"),s("code",[t._v("nodemon")]),t._v("è¿è¡Œï¼Œå…¨å±€å®‰è£…çš„è¯ï¼Œè¿è¡Œæ–¹å¼"),s("code",[t._v("nodemon index.js")]),t._v(";å±€éƒ¨å®‰è£…çš„è¯ç”¨npxè¿è¡Œ"),s("code",[t._v("npx nodemon index.js")]),t._v(";ä¹Ÿå¯ä»¥åœ¨package.jsoné‡Œé…ç½®"),s("code",[t._v("script")]),t._v("è¿è¡Œï¼Œ"),s("code",[t._v('"dev": "nodemon index.js"')])])])]),t._v(" "),s("h4",{attrs:{id:"_2-å®ç°è·¯ç”±å¤„ç†å’Œé™æ€èµ„æºæ‰˜ç®¡"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-å®ç°è·¯ç”±å¤„ç†å’Œé™æ€èµ„æºæ‰˜ç®¡"}},[t._v("#")]),t._v(" 2. å®ç°è·¯ç”±å¤„ç†å’Œé™æ€èµ„æºæ‰˜ç®¡")]),t._v(" "),s("div",{staticClass:"language-js line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" http"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("require")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'http'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" url "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("require")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'url'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" fs"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("require")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'fs'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" path "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("require")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'path'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 404å¤„ç†")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("noFound")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("req"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("res")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    fs"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("readFile")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("path"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("join")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("__dirname"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'404.html'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("err"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("data")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("err"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            res"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("write")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("404")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'no found'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("else")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// res.writeHead(200,{'Content-type':\"text/html;charset='utf-8'\"})")]),t._v("\n            res"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("writeHead")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("200")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),s("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v("'Content-type'")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"text/html;charset=utf-8"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n            res"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("write")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("data"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n            res"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("end")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\nhttp"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("createServer")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("req"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("res")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 1.è·¯ç”±å¤„ç†")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 2.é™æ€èµ„æºæ‰˜ç®¡")]),t._v("\n\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// url.parseè§£æåä¼šè¿”å›ä¸€ä¸ªurlå¯¹è±¡ï¼Œpathnameæ˜¯ä»€ä¹ˆï¼Ÿ")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ä¾‹å¦‚ï¼šhttp://nodejs.cn/api/url.html#url_uï¼Œpathnameæ˜¯æŒ‡/api/url.html#url_u")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" pathName"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("url"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("parse")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("req"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("url"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("pathname\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("pathName "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("===")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'/'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        pathName"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("path"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("join")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("__dirname"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'index.html'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// extnameè¿”å›æ‰©å±•åï¼Œå°±æ˜¯.åé¢çš„,å¦‚æœæ²¡æœ‰.å°±è¿”å›ç©ºå­—ç¬¦ä¸²")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" extName"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("path"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("extname")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("pathName"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("extName "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("===")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'.html'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        fs"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("readFile")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("pathName"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("err"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("data")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("err"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n                "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("noFound")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("req"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("res"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("else")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n                res"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("writeHead")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("200")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),s("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v("'Content-type'")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"text/html;charset=utf-8"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n                res"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("write")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("data"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n                res"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("end")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("listen")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1000")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br"),s("span",{staticClass:"line-number"},[t._v("8")]),s("br"),s("span",{staticClass:"line-number"},[t._v("9")]),s("br"),s("span",{staticClass:"line-number"},[t._v("10")]),s("br"),s("span",{staticClass:"line-number"},[t._v("11")]),s("br"),s("span",{staticClass:"line-number"},[t._v("12")]),s("br"),s("span",{staticClass:"line-number"},[t._v("13")]),s("br"),s("span",{staticClass:"line-number"},[t._v("14")]),s("br"),s("span",{staticClass:"line-number"},[t._v("15")]),s("br"),s("span",{staticClass:"line-number"},[t._v("16")]),s("br"),s("span",{staticClass:"line-number"},[t._v("17")]),s("br"),s("span",{staticClass:"line-number"},[t._v("18")]),s("br"),s("span",{staticClass:"line-number"},[t._v("19")]),s("br"),s("span",{staticClass:"line-number"},[t._v("20")]),s("br"),s("span",{staticClass:"line-number"},[t._v("21")]),s("br"),s("span",{staticClass:"line-number"},[t._v("22")]),s("br"),s("span",{staticClass:"line-number"},[t._v("23")]),s("br"),s("span",{staticClass:"line-number"},[t._v("24")]),s("br"),s("span",{staticClass:"line-number"},[t._v("25")]),s("br"),s("span",{staticClass:"line-number"},[t._v("26")]),s("br"),s("span",{staticClass:"line-number"},[t._v("27")]),s("br"),s("span",{staticClass:"line-number"},[t._v("28")]),s("br"),s("span",{staticClass:"line-number"},[t._v("29")]),s("br"),s("span",{staticClass:"line-number"},[t._v("30")]),s("br"),s("span",{staticClass:"line-number"},[t._v("31")]),s("br"),s("span",{staticClass:"line-number"},[t._v("32")]),s("br"),s("span",{staticClass:"line-number"},[t._v("33")]),s("br"),s("span",{staticClass:"line-number"},[t._v("34")]),s("br"),s("span",{staticClass:"line-number"},[t._v("35")]),s("br"),s("span",{staticClass:"line-number"},[t._v("36")]),s("br"),s("span",{staticClass:"line-number"},[t._v("37")]),s("br"),s("span",{staticClass:"line-number"},[t._v("38")]),s("br"),s("span",{staticClass:"line-number"},[t._v("39")]),s("br"),s("span",{staticClass:"line-number"},[t._v("40")]),s("br"),s("span",{staticClass:"line-number"},[t._v("41")]),s("br"),s("span",{staticClass:"line-number"},[t._v("42")]),s("br"),s("span",{staticClass:"line-number"},[t._v("43")]),s("br")])]),s("h4",{attrs:{id:"_3-å®ç°http-verb-å’Œ-store"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_3-å®ç°http-verb-å’Œ-store"}},[t._v("#")]),t._v(" 3. å®ç°http verb å’Œ store")]),t._v(" "),s("div",{staticClass:"language-js line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// æºæ–‡æ¡£ï¼šexamples/node/1.4/mini_node")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" http"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("require")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'http'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" url "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("require")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'url'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" fs"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("require")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'fs'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" path "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("require")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'path'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" qs"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("require")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'qs'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("writeDb")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("thunk")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    fs"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("appendFile")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("path"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("join")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("__dirname"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'db'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("thunk"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("err")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("err"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("throw")]),t._v(" err"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        console"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'æ•°æ®å·²è¢«è¿½åŠ åˆ°æ–‡ä»¶'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\nhttp"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("createServer")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("req"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("res")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 3.HTTP verb")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 4. store")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// url.parseè§£æåä¼šè¿”å›ä¸€ä¸ªurlå¯¹è±¡ï¼Œpathnameæ˜¯ä»€ä¹ˆï¼Ÿ")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ä¾‹å¦‚ï¼šhttp://nodejs.cn/api/url.html#url_uï¼Œpathnameæ˜¯æŒ‡/api/url.html#url_u")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" pathName"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("url"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("parse")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("req"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("url"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("pathname\n\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("pathName"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("startsWith")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'/api'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" method"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("req"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("method\n        "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("method"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("===")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'GET'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" query"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" qs"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("parse")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("url"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("parse")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("req"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("url"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("query"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" resData "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n                "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("code")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("200")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n                "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("data")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v("query"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n                "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("msg")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'sucess'")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n            res"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("end")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token constant"}},[t._v("JSON")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("stringify")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("resData"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("else")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("method"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("===")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'POST'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" contentType"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("req"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("headers"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'content-type'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n            \n            "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("contentType"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("===")]),t._v("  "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'application/json'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n                "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" postData"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("''")]),t._v("\n                req"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("on")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'data'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("thunk")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n                    postData"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+=")]),t._v("thunk\n                    "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("writeDb")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("thunk"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n                "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n                req"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("on")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'end'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("thunk")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n                    res"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("end")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token constant"}},[t._v("JSON")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("stringify")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n                        "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("code")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("200")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n                        "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("data")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v("postData"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n                        "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("msg")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'sucess'")]),t._v("\n                    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n                "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n          \n        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n        \n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("listen")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1000")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br"),s("span",{staticClass:"line-number"},[t._v("8")]),s("br"),s("span",{staticClass:"line-number"},[t._v("9")]),s("br"),s("span",{staticClass:"line-number"},[t._v("10")]),s("br"),s("span",{staticClass:"line-number"},[t._v("11")]),s("br"),s("span",{staticClass:"line-number"},[t._v("12")]),s("br"),s("span",{staticClass:"line-number"},[t._v("13")]),s("br"),s("span",{staticClass:"line-number"},[t._v("14")]),s("br"),s("span",{staticClass:"line-number"},[t._v("15")]),s("br"),s("span",{staticClass:"line-number"},[t._v("16")]),s("br"),s("span",{staticClass:"line-number"},[t._v("17")]),s("br"),s("span",{staticClass:"line-number"},[t._v("18")]),s("br"),s("span",{staticClass:"line-number"},[t._v("19")]),s("br"),s("span",{staticClass:"line-number"},[t._v("20")]),s("br"),s("span",{staticClass:"line-number"},[t._v("21")]),s("br"),s("span",{staticClass:"line-number"},[t._v("22")]),s("br"),s("span",{staticClass:"line-number"},[t._v("23")]),s("br"),s("span",{staticClass:"line-number"},[t._v("24")]),s("br"),s("span",{staticClass:"line-number"},[t._v("25")]),s("br"),s("span",{staticClass:"line-number"},[t._v("26")]),s("br"),s("span",{staticClass:"line-number"},[t._v("27")]),s("br"),s("span",{staticClass:"line-number"},[t._v("28")]),s("br"),s("span",{staticClass:"line-number"},[t._v("29")]),s("br"),s("span",{staticClass:"line-number"},[t._v("30")]),s("br"),s("span",{staticClass:"line-number"},[t._v("31")]),s("br"),s("span",{staticClass:"line-number"},[t._v("32")]),s("br"),s("span",{staticClass:"line-number"},[t._v("33")]),s("br"),s("span",{staticClass:"line-number"},[t._v("34")]),s("br"),s("span",{staticClass:"line-number"},[t._v("35")]),s("br"),s("span",{staticClass:"line-number"},[t._v("36")]),s("br"),s("span",{staticClass:"line-number"},[t._v("37")]),s("br"),s("span",{staticClass:"line-number"},[t._v("38")]),s("br"),s("span",{staticClass:"line-number"},[t._v("39")]),s("br"),s("span",{staticClass:"line-number"},[t._v("40")]),s("br"),s("span",{staticClass:"line-number"},[t._v("41")]),s("br"),s("span",{staticClass:"line-number"},[t._v("42")]),s("br"),s("span",{staticClass:"line-number"},[t._v("43")]),s("br"),s("span",{staticClass:"line-number"},[t._v("44")]),s("br"),s("span",{staticClass:"line-number"},[t._v("45")]),s("br"),s("span",{staticClass:"line-number"},[t._v("46")]),s("br"),s("span",{staticClass:"line-number"},[t._v("47")]),s("br"),s("span",{staticClass:"line-number"},[t._v("48")]),s("br"),s("span",{staticClass:"line-number"},[t._v("49")]),s("br"),s("span",{staticClass:"line-number"},[t._v("50")]),s("br"),s("span",{staticClass:"line-number"},[t._v("51")]),s("br"),s("span",{staticClass:"line-number"},[t._v("52")]),s("br")])]),s("h3",{attrs:{id:"_1-4-3-æ‰©å±•"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1-4-3-æ‰©å±•"}},[t._v("#")]),t._v(" 1.4.3 æ‰©å±•")]),t._v(" "),s("p",[s("a",{attrs:{href:"http://nodejs.cn/api/http.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("Nodejså®˜ç½‘ httpæ¨¡å—"),s("OutboundLink")],1)]),t._v(" "),s("p",[s("a",{attrs:{href:"https://juejin.im/post/5d5277a7f265da03cd0a74a7",target:"_blank",rel:"noopener noreferrer"}},[t._v("Node.jsè¶…è¯¦ç»†é›¶åŸºç¡€æ•™ç¨‹(1)â€”å¤„ç†GETã€POSTè¯·æ±‚"),s("OutboundLink")],1)]),t._v(" "),s("p",[s("a",{attrs:{href:"https://juejin.im/post/5b75739ee51d45554762288e",target:"_blank",rel:"noopener noreferrer"}},[t._v("å°è¯•æ‰‹å†™ä¸€ä¸ª nodejs http-server"),s("OutboundLink")],1)]),t._v(" "),s("h2",{attrs:{id:"_1-5-ä½¿ç”¨expressæ­å»ºweb-server"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1-5-ä½¿ç”¨expressæ­å»ºweb-server"}},[t._v("#")]),t._v(" 1.5 ä½¿ç”¨Expressæ­å»ºWeb server")]),t._v(" "),s("h3",{attrs:{id:"_1-5-1-express-æ¡†æ¶æ¦‚è§ˆ"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1-5-1-express-æ¡†æ¶æ¦‚è§ˆ"}},[t._v("#")]),t._v(" 1.5.1 Express æ¡†æ¶æ¦‚è§ˆ")]),t._v(" "),s("ul",[s("li",[t._v("é«˜åº¦åŒ…å®¹ï¼Œå¿«é€Ÿè€Œç®€å•çš„Node.js Webæ¡†æ¶")]),t._v(" "),s("li",[t._v("æ‹¥æœ‰ç¨³å®šå¯é ä¸°å¯Œçš„ç¤¾åŒºå’Œä¸­é—´ä»¶ç”Ÿæ€")]),t._v(" "),s("li",[t._v("æ˜“äºå­¦ä¹ ï¼Œå¯å®šåˆ¶ç¨‹åº¦é«˜ï¼Œå¼€ç®±å³ç”¨")]),t._v(" "),s("li",[t._v("ç²¾å·§çš„Expressä¸ºWebå’Œç§»åŠ¨åº”ç”¨ç¨‹åºæä¾›äº†ä¸€ç»„å¼ºå¤§çš„åŠŸèƒ½")])]),t._v(" "),s("h3",{attrs:{id:"_1-5-2-expressçš„èƒ½åŠ›"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1-5-2-expressçš„èƒ½åŠ›"}},[t._v("#")]),t._v(" 1.5.2 Expressçš„èƒ½åŠ›")]),t._v(" "),s("ul",[s("li",[t._v("å°è£…httpæ¨¡å—ï¼Œæ–¹ä¾¿åœ°åˆ›å»ºWebåº”ç”¨")]),t._v(" "),s("li",[t._v("é€šè¿‡ä¸­é—´ä»¶æœºåˆ¶å®ç°å¯æ‰©å±•æ€§")]),t._v(" "),s("li",[t._v("æä¾›è·¯ç”±æœºåˆ¶ï¼Œä¾¿äºç»„ç»‡ä¸šåŠ¡åº”ç”¨")]),t._v(" "),s("li",[t._v("æä¾›å¤šç§æ¨¡ç‰ˆå¼•æ“ï¼Œæ”¯æŒäº†é™æ€æ–‡ä»¶çš„æ¸²æŸ“å’Œæ‰˜ç®¡")]),t._v(" "),s("li",[t._v("ä¾¿äºæ·»åŠ é”™è¯¯å¤„ç†ï¼Œæ–¹ä¾¿å¯¹ç³»ç»Ÿè¿›è¡Œå®¹é”™å¤„ç†")]),t._v(" "),s("li",[t._v("ä¾¿äºæ·»åŠ æ•°æ®åº“è¿æ¥ï¼Œæ“ä½œæ•°æ®åº“æ•°æ®")])]),t._v(" "),s("h4",{attrs:{id:"expressä¸­é—´ä»¶"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#expressä¸­é—´ä»¶"}},[t._v("#")]),t._v(" Expressä¸­é—´ä»¶")]),t._v(" "),s("ul",[s("li",[s("p",[t._v("è·¯ç”±å’Œä¸­é—´ä»¶æ˜¯Expressçš„åŸºç¡€ï¼Œè·¯ç”±æ˜¯ç‰¹æ®Šçš„ä¸­é—´ä»¶")])]),t._v(" "),s("li",[s("p",[t._v("Expressæ˜¯ä¸€ç³»åˆ—ä¸­é—´ä»¶å‡½æ•°è°ƒç”¨çš„è¿‡ç¨‹")])]),t._v(" "),s("li",[s("p",[t._v("ä¸­é—´ä»¶æ˜¯å¯¹å¤„ç†è¿‡ç¨‹çš„å°è£…ï¼Œè¾“å…¥è¯·æ±‚å¯¹è±¡/å“åº”å¯¹è±¡ï¼Œé€šè¿‡nextè¿›å…¥ä¸‹ä¸€ä¸ªä¸­é—´ä»¶å¤„ç†è¿‡ç¨‹")])]),t._v(" "),s("li",[s("p",[t._v("ä½¿ç”¨app.use()å°†ä¸­é—´ä»¶æ³¨å†Œåˆ°åº”ç”¨å®ä¾‹ä¸Šï¼Œè·¯ç”±ä¸­é—´ä»¶æ³¨å†Œåˆ°è·¯ç”±å®ä¾‹ä¸Š")])])]),t._v(" "),s("p",[s("img",{attrs:{src:a(382),alt:""}})]),t._v(" "),s("h4",{attrs:{id:"ç¼–å†™expressä¸­é—´ä»¶"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#ç¼–å†™expressä¸­é—´ä»¶"}},[t._v("#")]),t._v(" ç¼–å†™Expressä¸­é—´ä»¶")]),t._v(" "),s("p",[s("img",{attrs:{src:a(383),alt:""}})]),t._v(" "),s("h4",{attrs:{id:"express-è·¯ç”±æœºåˆ¶"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#express-è·¯ç”±æœºåˆ¶"}},[t._v("#")]),t._v(" Express è·¯ç”±æœºåˆ¶")]),t._v(" "),s("ul",[s("li",[s("p",[t._v("è·¯ç”±æ˜¯ä¸€æ®µExpressä»£ç ï¼Œå®ƒå°†httpåŠ¨è¯ã€URLè·¯å¾„/æ¨¡å¼å’Œå¤„ç†å‡½æ•°ä¸‰è€…å…³è”èµ·æ¥")])]),t._v(" "),s("li",[s("p",[t._v("Expressçš„åº”ç”¨ç¨‹åºè®¾è®¡è¦ä»è·¯ç”±è®¾è®¡å…¥æ‰‹ï¼Œå°†æœåŠ¡çš„èƒ½åŠ›æè¿°èµ·æ¥")])]),t._v(" "),s("li",[s("p",[t._v("è¿˜å¯ä»¥ä½¿ç”¨Routerä¸­é—´ä»¶ï¼Œå®ç°è·¯ç”±é€»è¾‘æ¨¡å—åŒ–è®¾è®¡")])])]),t._v(" "),s("p",[s("img",{attrs:{src:a(384),alt:""}})]),t._v(" "),s("h4",{attrs:{id:"express-æ€§èƒ½è¯„ä¼°"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#express-æ€§èƒ½è¯„ä¼°"}},[t._v("#")]),t._v(" Express æ€§èƒ½è¯„ä¼°")]),t._v(" "),s("p",[s("img",{attrs:{src:a(385),alt:""}})]),t._v(" "),s("h4",{attrs:{id:"express-æœ€ä½³å®è·µ"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#express-æœ€ä½³å®è·µ"}},[t._v("#")]),t._v(" Express æœ€ä½³å®è·µ")]),t._v(" "),s("ul",[s("li",[s("p",[t._v("ä½¿ç”¨ä¸­é—´ä»¶å‹ç¼©å“åº”æ•°æ®ï¼Œåœ¨åå‘ä»£ç†å±‚åšæœ€ä½³")])]),t._v(" "),s("li",[s("p",[t._v("é¿å…åœ¨ä¸šåŠ¡é€»è¾‘å¤„ç†ä¸­ä½¿ç”¨åŒæ­¥é˜»å¡æ“ä½œ")])]),t._v(" "),s("li",[s("p",[t._v("å¼•å…¥å®Œå–„çš„åŸºå»ºä¿éšœï¼Œè®°å½•æ—¥å¿—ï¼Œå¤„ç†å¼‚å¸¸")])]),t._v(" "),s("li",[s("p",[t._v("éœ€è¦é‡å¯çš„æ—¶å€™ç«‹å³é‡å¯ï¼Œä¿è¯ç¨‹åºå¯ä»¥è‡ªåŠ¨é‡å¯å¯åŠ¨")])])]),t._v(" "),s("h3",{attrs:{id:"_1-5-3-express-web-serverå®æˆ˜"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1-5-3-express-web-serverå®æˆ˜"}},[t._v("#")]),t._v(" 1.5.3 Express Web Serverå®æˆ˜")]),t._v(" "),s("ul",[s("li",[t._v("å®ç°ä¸€ä¸ªå¯ä»¥ç”Ÿæˆé‚®ä»¶çš„æ¨¡ç‰ˆç®¡ç†ç³»ç»Ÿ")]),t._v(" "),s("li",[t._v("æœ‰é…ç½®ç•Œé¢ï¼Œå¯ä»¥æ²‰æ·€ä¸šåŠ¡åŸŸä¸­çš„é‚®ä»¶æ¨¡ç‰ˆï¼Œå¯ä»¥æ–°å¢æ¨¡ç‰ˆ")]),t._v(" "),s("li",[t._v("å¯ä»¥é¢„è§ˆæœ€ç»ˆçš„é‚®ä»¶æ ·å¼")])]),t._v(" "),s("p",[s("img",{attrs:{src:a(386),alt:""}})]),t._v(" "),s("h4",{attrs:{id:"é‚®ä»¶æ¨¡ç‰ˆç³»ç»Ÿ-åŠŸèƒ½è®¾è®¡"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#é‚®ä»¶æ¨¡ç‰ˆç³»ç»Ÿ-åŠŸèƒ½è®¾è®¡"}},[t._v("#")]),t._v(" é‚®ä»¶æ¨¡ç‰ˆç³»ç»Ÿ-åŠŸèƒ½è®¾è®¡")]),t._v(" "),s("p",[s("img",{attrs:{src:a(387),alt:""}})]),t._v(" "),s("h3",{attrs:{id:"_1-5-4æ‰©å±•å­¦ä¹ "}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1-5-4æ‰©å±•å­¦ä¹ "}},[t._v("#")]),t._v(" 1.5.4æ‰©å±•å­¦ä¹ ")]),t._v(" "),s("p",[s("a",{attrs:{href:"https://developer.mozilla.org/zh-CN/docs/learn/Server-side/Express_Nodejs/Introduction",target:"_blank",rel:"noopener noreferrer"}},[t._v("MDN ä¸­æä¾›çš„ Express è¯¾ç¨‹"),s("OutboundLink")],1)]),t._v(" "),s("p",[s("a",{attrs:{href:"https://cythilya.github.io/2014/11/23/nodejs-express-microblog/",target:"_blank",rel:"noopener noreferrer"}},[t._v("ä½¿ç”¨ Node.js + Express æ­å»ºä¸€ä¸ªç®€å•çš„å¾®åšç½‘ç«™"),s("OutboundLink")],1)]),t._v(" "),s("p",[s("a",{attrs:{href:"https://zhuanlan.zhihu.com/p/56947560",target:"_blank",rel:"noopener noreferrer"}},[t._v("NodeJS expressæ¡†æ¶æ ¸å¿ƒåŸç†å…¨æ­ç§˜"),s("OutboundLink")],1)]),t._v(" "),s("h2",{attrs:{id:"_1-6-ä½¿ç”¨nodejsç¼–å†™-restful-api"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1-6-ä½¿ç”¨nodejsç¼–å†™-restful-api"}},[t._v("#")]),t._v(" 1.6 ä½¿ç”¨Nodejsç¼–å†™ RESTful API")]),t._v(" "),s("h3",{attrs:{id:"_1-6-1-restful-api"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1-6-1-restful-api"}},[t._v("#")]),t._v(" 1.6.1 RESTful API")]),t._v(" "),s("p",[t._v("restæ˜¯æš´éœ²æœåŠ¡ç«¯èµ„æºçš„ä¸€ç§çº¦å®šæ–¹å¼ï¼ŒåŒæ—¶æä¾›è·å–è¿™ç§èµ„æºçš„åŠ¨è¯ï¼ŒåŸºäºrestæ¶æ„çš„web server apiï¼Œæˆ‘ä»¬å°±ç§°ä¸ºRESTful APIã€‚")]),t._v(" "),s("h4",{attrs:{id:"restæ¦‚å¿µ"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#restæ¦‚å¿µ"}},[t._v("#")]),t._v(" RESTæ¦‚å¿µ")]),t._v(" "),s("ul",[s("li",[t._v("URIèµ„æºå®šä½")])]),t._v(" "),s("p",[t._v("RESTæ˜¯é¢å‘èµ„æºï¼Œè€Œèµ„æºé€šè¿‡URIè¿›è¡Œæš´éœ²")]),t._v(" "),s("ul",[s("li",[t._v("é“¾æ¥èµ„æºçŠ¶æ€")])]),t._v(" "),s("p",[t._v("æœåŠ¡å™¨ç”ŸæˆåŒ…å«çŠ¶æ€è½¬ç§»çš„è¡¨å¾æ•°æ®ï¼Œç”¨æ¥å“åº”å®¢æˆ·ç«¯å¯¹ä¸€ä¸ªèµ„æºçš„è¯·æ±‚ï¼Œå®¢æˆ·ç«¯å¯æ®æ­¤äº†è§£çŠ¶æ€è½¬ç§»çš„æ–¹å¼")]),t._v(" "),s("ul",[s("li",[t._v("ä½¿ç”¨HTTPå·²æœ‰ç‰¹æ€§")])]),t._v(" "),s("p",[t._v("RESTå¾ˆç”¨åˆ©ç”¨äº†HTTPæœ¬èº«çš„ä¸€äº›ç‰¹æ€§ï¼Œå¦‚HTTTPåŠ¨è¯ã€HTTPçŠ¶æ€ç ã€HTTPå¤´éƒ¨ä¿¡æ¯")]),t._v(" "),s("ul",[s("li",[t._v("ç»Ÿä¸€èµ„æºè§„èŒƒ")])]),t._v(" "),s("p",[t._v("åŒ…å«ä¸€ç»„å—é™çš„é¢„å®šä¹‰çš„æ“ä½œï¼Œèµ„æºéƒ½é€šè¿‡ä½¿ç”¨é¡¹ç›®æ¥å£è¿›è¡Œèµ„æºçš„è®¿é—®")]),t._v(" "),s("h4",{attrs:{id:"å……åˆ†åˆ©ç”¨httpæè¿°urièµ„æº"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#å……åˆ†åˆ©ç”¨httpæè¿°urièµ„æº"}},[t._v("#")]),t._v(" å……åˆ†åˆ©ç”¨HTTPæè¿°URIèµ„æº")]),t._v(" "),s("p",[s("img",{attrs:{src:a(388),alt:""}})]),t._v(" "),s("h3",{attrs:{id:"_1-6-2-rest-å·¥ç¨‹å®è·µ"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1-6-2-rest-å·¥ç¨‹å®è·µ"}},[t._v("#")]),t._v(" 1.6.2 REST å·¥ç¨‹å®è·µ")]),t._v(" "),s("h3",{attrs:{id:"rest-æ¥å£è®¾è®¡-è·¯ç”±"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#rest-æ¥å£è®¾è®¡-è·¯ç”±"}},[t._v("#")]),t._v(" REST æ¥å£è®¾è®¡-è·¯ç”±")]),t._v(" "),s("div",{staticClass:"language-js line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[t._v("   "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//æ¥å£è¦éµå¾ªhttpåŠ¨è¯")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token constant"}},[t._v("GET")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("xhr"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("v1"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("templateList "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// è·å–æ¨¡ç‰ˆåˆ—è¡¨")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token constant"}},[t._v("GET")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("xhr"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("v1"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("templateDetail"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("?")]),t._v("id"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("xx   "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// æ¨¡ç‰ˆå•ä¸ªæ¨¡ç‰ˆè¯¦æƒ…")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token constant"}},[t._v("POST")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("xhr"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("v1"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("templateCreate "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// åˆ›å»ºæ¨¡ç‰ˆ")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token constant"}},[t._v("PUT")]),t._v("  "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("xhr"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("v1"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("templateChange"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ä¿®æ”¹æ¨¡ç‰ˆ,")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token constant"}},[t._v("DELETE")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("xhr"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("v1"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("templateDelate"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// åˆ é™¤æ¨¡ç‰ˆ")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br")])]),s("h3",{attrs:{id:"æ•°æ®è¡¨è®¾è®¡-å°è£…æ•°æ®æœåŠ¡"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#æ•°æ®è¡¨è®¾è®¡-å°è£…æ•°æ®æœåŠ¡"}},[t._v("#")]),t._v(" æ•°æ®è¡¨è®¾è®¡-å°è£…æ•°æ®æœåŠ¡")]),t._v(" "),s("ul",[s("li",[s("p",[t._v("é€‰ç”¨MongoDBå­˜å‚¨æ•°æ®")])]),t._v(" "),s("li",[s("p",[t._v("å¼•ç”¨mongooseæ„å»ºæ•°æ®æ¨¡å‹")])]),t._v(" "),s("li",[s("p",[t._v("é‚®ä»¶æ¨¡ç‰ˆSchema")]),t._v(" "),s("ul",[s("li",[t._v("id String å”¯ä¸€è¯†åˆ«é‚®ä»¶æ¨¡ç‰ˆçš„id")]),t._v(" "),s("li",[t._v("template text å¯æ”¯æŒHTML")]),t._v(" "),s("li",[t._v("data  é‚®ä»¶æ¨¡ç‰ˆä¸­å¡«å……çš„æ•°æ®")])]),t._v(" "),s("h3",{attrs:{id:"_1-6-3-rest-æœ€ä½³å®è·µ"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1-6-3-rest-æœ€ä½³å®è·µ"}},[t._v("#")]),t._v(" 1.6.3 REST æœ€ä½³å®è·µ")])]),t._v(" "),s("li",[s("p",[t._v("å……åˆ†ç†è§£å¹¶ä½¿ç”¨HTTPè¯·æ±‚")])]),t._v(" "),s("li",[s("p",[t._v("ä½¿ç”¨APIæµ‹è¯•å·¥å…·è€Œéæµè§ˆå™¨æµ‹è¯•ä½ çš„APIæ¥å£")])]),t._v(" "),s("li",[s("p",[t._v("é€‰æ‹©åˆé€‚çš„æ–‡æ¡£ç”Ÿæˆå·¥å…·ï¼Œåˆ é™¤APIæ–‡æ¡£")])]),t._v(" "),s("li",[s("p",[t._v("RESTåªæ˜¯è§„èŒƒå¹¶ä¸å¼ºåˆ¶ï¼Œæœ€åˆé€‚å›¢é˜Ÿçš„æ‰æ˜¯æœ€å¥½çš„")])]),t._v(" "),s("li",[s("p",[t._v("æ‰¾ä¸ªå®è·µRESTè¾ƒå¥½çš„æ¡†æ¶èƒœè¿‡è‡ªå·±é€ è½®å­")])])]),t._v(" "),s("p",[t._v("ğŸ… å¼€å§‹å®æˆ˜")]),t._v(" "),s("ol",[s("li",[t._v("é¡¹ç›®ç»“æ„")])]),t._v(" "),s("div",{staticClass:"language-bash line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[t._v(" â”œâ”€â”€ server    \n â”‚   â”œâ”€â”€  middleware "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# è‡ªå·±å†™çš„ä¸­é—´ä»¶ï¼›å¯ä»¥ç”¨äºå¤„ç†ä¸€äº›ä¸šåŠ¡é€»è¾‘")]),t._v("\n â”‚   â”œâ”€â”€  model      "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# æ•°æ®æ¨¡å‹ï¼Œæ¥å£çš„æ•°æ®æ¨¡å‹")]),t._v("\n â”‚   â”œâ”€â”€  routes     "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# æ¥å£çš„ä¸šåŠ¡ä»£ç ")]),t._v("\n â”‚   â”œâ”€â”€ index.js    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# å…¥å£æ–‡ä»¶")]),t._v("\n â””â”€ package.json     "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# ç®¡ç†é¡¹ç›®è¿è¡Œçš„ä¾èµ–ã€åŠæè¿°ä¿¡æ¯                                  ")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br")])]),s("ol",{attrs:{start:"2"}},[s("li",[t._v("ä¸‹è½½æ‰€éœ€è¦çš„ä¾èµ–")])]),t._v(" "),s("p",[s("code",[t._v("yarn add express mongoose nodemon body-parser")])]),t._v(" "),s("p",[t._v("mongoose ï¼šç®€åŒ–æ“ä½œmongodbçš„åº“")]),t._v(" "),s("p",[t._v("body-parserï¼šå¤„ç†postè¯·æ±‚æ—¶è¿”å›thunkï¼Œå®ƒä¼šè‡ªåŠ¨å¸®æˆ‘ä»¬åŠ å…¥res.bodyä¸­")]),t._v(" "),s("div",{staticClass:"language-json line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-json"}},[s("code",[t._v("ç”¨nodemonå¯åŠ¨é¡¹ç›®ï¼Œå½“æˆ‘ä»¬ä¿å­˜æ—¶ï¼Œnodemonä¼šå¸®åŠ©æˆ‘ä»¬å¯åŠ¨é¡¹ç›®\n"),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"scripts"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"dev"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"nodemon server/index.js"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br")])]),s("ol",{attrs:{start:"3"}},[s("li",[t._v("ç¼–å†™å…¥å£æ–‡ä»¶index.js")])]),t._v(" "),s("p",[t._v("ç¼–å†™å…¥å£æ–‡ä»¶ï¼Œéœ€è¦è¿æ¥æ•°æ®åº“ï¼Œè¿™é‡Œæˆ‘ä»¬ä½¿ç”¨mogodbï¼Œmongodbçš„å®‰è£…æ•™ç¨‹åœ¨æœ¬æ–‡çš„æœ€ä¸‹é¢ï¼Œå½“ç„¶ä¼šmysqlï¼Œä¹Ÿå¯ä»¥ç”¨mysqlã€‚")]),t._v(" "),s("div",{staticClass:"language-js line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" express"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("require")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'express'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" bodyParser"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("require")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'body-parser'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" mongoose"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("require")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'mongoose'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" templateRouter"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("require")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'./routes/template'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" app"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("express")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// è¿æ¥mongodbï¼Œtempæ˜¯æˆ‘ä»¬æ•°æ®åº“çš„åç§°")]),t._v("\nmongoose"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("connect")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'mongodb://127.0.0.1:27017/temp'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("useNewUrlParser")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("useUnifiedTopology")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" db"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("mongoose"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("connection\ndb"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("on")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'error'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    console"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'ç›‘å¬é”™è¯¯'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ç›‘å¬mogodbæ˜¯å¦è¿æ¥æˆåŠŸ")]),t._v("\ndb"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("once")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'open'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    console"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'æ•°æ®åº“è¿æ¥æˆåŠŸ'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// æˆ‘ä»¬ç¼–å†™çš„ä¸­é—´ä»¶ï¼Œæä¾›$sucesså’Œ#erroræ¥å¤„ç†è¿”å›çš„æ•°æ®")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("require")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'./middleware/index'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("app"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ç”¨bodyParserå¤„ç†postè¯·æ±‚ï¼Œå¤„ç†è¿”å›chunk")]),t._v("\napp"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("use")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("bodyParser"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("json")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\napp"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("use")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("bodyParser"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("urlencoded")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("extended")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("false")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// æˆ‘ä»¬çš„è·¯ç”±å‰ç¼€/xhr/v1/ï¼Œå¦‚æœåŒ¹é…åœ¨urlä¸­åŒ¹é…åˆ°äº†/xhr/v1/ï¼Œå°±ä¼šè¿›å…¥å­è·¯ç”±templateRouter")]),t._v("\napp"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("use")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'/xhr/v1/'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("templateRouter"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// å‰é¢éƒ½æ²¡æœ‰åŒ¹é…åˆ°è°ƒç”¨next()å°±ä¼šè¿›å…¥ä¸‹ä¸€ä¸ªä¸­é—´ä»¶")]),t._v("\napp"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("use")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("req"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("res"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("next")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" err "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Error")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'Not Found'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    err"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("status "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("404")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("next")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("err"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\napp"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("listen")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("2000")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    console"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'server is running on http://localhost:2000'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br"),s("span",{staticClass:"line-number"},[t._v("8")]),s("br"),s("span",{staticClass:"line-number"},[t._v("9")]),s("br"),s("span",{staticClass:"line-number"},[t._v("10")]),s("br"),s("span",{staticClass:"line-number"},[t._v("11")]),s("br"),s("span",{staticClass:"line-number"},[t._v("12")]),s("br"),s("span",{staticClass:"line-number"},[t._v("13")]),s("br"),s("span",{staticClass:"line-number"},[t._v("14")]),s("br"),s("span",{staticClass:"line-number"},[t._v("15")]),s("br"),s("span",{staticClass:"line-number"},[t._v("16")]),s("br"),s("span",{staticClass:"line-number"},[t._v("17")]),s("br"),s("span",{staticClass:"line-number"},[t._v("18")]),s("br"),s("span",{staticClass:"line-number"},[t._v("19")]),s("br"),s("span",{staticClass:"line-number"},[t._v("20")]),s("br"),s("span",{staticClass:"line-number"},[t._v("21")]),s("br"),s("span",{staticClass:"line-number"},[t._v("22")]),s("br"),s("span",{staticClass:"line-number"},[t._v("23")]),s("br"),s("span",{staticClass:"line-number"},[t._v("24")]),s("br"),s("span",{staticClass:"line-number"},[t._v("25")]),s("br"),s("span",{staticClass:"line-number"},[t._v("26")]),s("br"),s("span",{staticClass:"line-number"},[t._v("27")]),s("br"),s("span",{staticClass:"line-number"},[t._v("28")]),s("br"),s("span",{staticClass:"line-number"},[t._v("29")]),s("br"),s("span",{staticClass:"line-number"},[t._v("30")]),s("br"),s("span",{staticClass:"line-number"},[t._v("31")]),s("br"),s("span",{staticClass:"line-number"},[t._v("32")]),s("br"),s("span",{staticClass:"line-number"},[t._v("33")]),s("br"),s("span",{staticClass:"line-number"},[t._v("34")]),s("br"),s("span",{staticClass:"line-number"},[t._v("35")]),s("br"),s("span",{staticClass:"line-number"},[t._v("36")]),s("br")])]),s("ol",{attrs:{start:"4"}},[s("li",[t._v("åœ¨modelä¸­ç¼–å†™æ•°æ®æ¨¡å‹")])]),t._v(" "),s("div",{staticClass:"language-js line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// æ•°æ®æ¨¡å‹")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" mongoose"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("require")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'mongoose'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" templateSchema"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("mongoose"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("Schema")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("name")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v("String"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("template")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v("String"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("data")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v("String\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//ç¬¬ä¸€ä¸ªå‚æ•° å½“å‰æ¨¡å‹åç§°ï¼Œç¬¬äºŒä¸ªå‚æ•° schema")]),t._v("\nmodule"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("exports"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("mongoose"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("model")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'template'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("templateSchema"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br"),s("span",{staticClass:"line-number"},[t._v("8")]),s("br"),s("span",{staticClass:"line-number"},[t._v("9")]),s("br"),s("span",{staticClass:"line-number"},[t._v("10")]),s("br")])]),s("ol",{attrs:{start:"5"}},[s("li",[t._v("ç¼–å†™å¤„ç†è¿”å›æ•°æ®çš„ä¸­é—´ä»¶")])]),t._v(" "),s("div",{staticClass:"language-js line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// å¤„ç†é”™è¯¯çš„ä¸­é—´ä»¶")]),t._v("\nmodule"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("exports")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("req"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("res"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("next")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    res"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("$success")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("data"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("code"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("200")])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" _data "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            code\n        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("typeof")]),t._v(" data"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("===")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'object'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            _data"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("msg"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'sucess'")]),t._v("\n            _data"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("data"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("data\n        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("else")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            _data"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("msg"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("data\n        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n        res"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("json")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("_data"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    res"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("$error")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("err"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("code"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("500")])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" _data "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            code\n        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("typeof")]),t._v(" data"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("===")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'objcet'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            _data"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("msg"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'error'")]),t._v("\n            _data"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("data"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token constant"}},[t._v("JSON")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("stringify")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("err"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("else")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            _data"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("msg"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("err\n        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n        res"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("json")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("_data"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("next")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br"),s("span",{staticClass:"line-number"},[t._v("8")]),s("br"),s("span",{staticClass:"line-number"},[t._v("9")]),s("br"),s("span",{staticClass:"line-number"},[t._v("10")]),s("br"),s("span",{staticClass:"line-number"},[t._v("11")]),s("br"),s("span",{staticClass:"line-number"},[t._v("12")]),s("br"),s("span",{staticClass:"line-number"},[t._v("13")]),s("br"),s("span",{staticClass:"line-number"},[t._v("14")]),s("br"),s("span",{staticClass:"line-number"},[t._v("15")]),s("br"),s("span",{staticClass:"line-number"},[t._v("16")]),s("br"),s("span",{staticClass:"line-number"},[t._v("17")]),s("br"),s("span",{staticClass:"line-number"},[t._v("18")]),s("br"),s("span",{staticClass:"line-number"},[t._v("19")]),s("br"),s("span",{staticClass:"line-number"},[t._v("20")]),s("br"),s("span",{staticClass:"line-number"},[t._v("21")]),s("br"),s("span",{staticClass:"line-number"},[t._v("22")]),s("br"),s("span",{staticClass:"line-number"},[t._v("23")]),s("br"),s("span",{staticClass:"line-number"},[t._v("24")]),s("br"),s("span",{staticClass:"line-number"},[t._v("25")]),s("br"),s("span",{staticClass:"line-number"},[t._v("26")]),s("br"),s("span",{staticClass:"line-number"},[t._v("27")]),s("br"),s("span",{staticClass:"line-number"},[t._v("28")]),s("br")])]),s("ol",{attrs:{start:"6"}},[s("li",[t._v("åœ¨routesç¼–å†™ä¸šåŠ¡æ¥å£")])]),t._v(" "),s("div",{staticClass:"language-js line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[t._v("  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// è·¯ç”±æ¨¡å—ï¼Œä¸šåŠ¡æ¨¡å—")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" express"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("require")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'express'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" router"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("express"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("Router")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" Template"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("require")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'../model/template'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// æŸ¥è¯¢æ¨¡ç‰ˆåˆ—è¡¨")]),t._v("\nrouter"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("get")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'/templateList'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("async")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("req"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("res"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("next")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" temps"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("await")]),t._v(" Template"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("find")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("sort")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("update_at")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    res"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("$success")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("temps"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// åˆ›å»ºæ¨¡ç‰ˆ")]),t._v("\nrouter"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("post")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'/templateCreate'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("async")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("req"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("res"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("next")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" temps "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("await")]),t._v(" Template"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("create")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("req"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("body"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    res"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("$success")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("temps"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// æŸ¥è¯¢æ¨¡ç‰ˆè¯¦æƒ…")]),t._v("\nrouter"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("get")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'/templateDetail'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("async")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("req"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("res"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("next")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" id "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("req"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("query\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" temps "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("await")]),t._v(" Template"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("findById")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("_id")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v("id"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n   res"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("$success")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("temps"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// æ›´æ–°æ¨¡ç‰ˆ")]),t._v("\nrouter"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("put")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'/templateChange/:id'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("async")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("req"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("res"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("next")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" id "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("req"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("params\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" temps "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("await")]),t._v(" Template"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("findByIdAndUpdate")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("_id")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v("id"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("req"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("body"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n   res"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("$success")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("temps"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// åˆ é™¤æ¨¡ç‰ˆ")]),t._v("\nrouter"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("delete")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'/templateDelate/:id'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("async")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("req"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("res"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("next")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" id "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("req"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("params\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" temps "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("await")]),t._v(" Template"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("findByIdAndRemove")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("_id")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v("id"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n   res"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("$success")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("temps"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\nmodule"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("exports"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("router\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br"),s("span",{staticClass:"line-number"},[t._v("8")]),s("br"),s("span",{staticClass:"line-number"},[t._v("9")]),s("br"),s("span",{staticClass:"line-number"},[t._v("10")]),s("br"),s("span",{staticClass:"line-number"},[t._v("11")]),s("br"),s("span",{staticClass:"line-number"},[t._v("12")]),s("br"),s("span",{staticClass:"line-number"},[t._v("13")]),s("br"),s("span",{staticClass:"line-number"},[t._v("14")]),s("br"),s("span",{staticClass:"line-number"},[t._v("15")]),s("br"),s("span",{staticClass:"line-number"},[t._v("16")]),s("br"),s("span",{staticClass:"line-number"},[t._v("17")]),s("br"),s("span",{staticClass:"line-number"},[t._v("18")]),s("br"),s("span",{staticClass:"line-number"},[t._v("19")]),s("br"),s("span",{staticClass:"line-number"},[t._v("20")]),s("br"),s("span",{staticClass:"line-number"},[t._v("21")]),s("br"),s("span",{staticClass:"line-number"},[t._v("22")]),s("br"),s("span",{staticClass:"line-number"},[t._v("23")]),s("br"),s("span",{staticClass:"line-number"},[t._v("24")]),s("br"),s("span",{staticClass:"line-number"},[t._v("25")]),s("br"),s("span",{staticClass:"line-number"},[t._v("26")]),s("br"),s("span",{staticClass:"line-number"},[t._v("27")]),s("br"),s("span",{staticClass:"line-number"},[t._v("28")]),s("br"),s("span",{staticClass:"line-number"},[t._v("29")]),s("br"),s("span",{staticClass:"line-number"},[t._v("30")]),s("br"),s("span",{staticClass:"line-number"},[t._v("31")]),s("br"),s("span",{staticClass:"line-number"},[t._v("32")]),s("br"),s("span",{staticClass:"line-number"},[t._v("33")]),s("br"),s("span",{staticClass:"line-number"},[t._v("34")]),s("br"),s("span",{staticClass:"line-number"},[t._v("35")]),s("br"),s("span",{staticClass:"line-number"},[t._v("36")]),s("br")])]),s("ol",{attrs:{start:"7"}},[s("li",[t._v("å…¶å®ƒ")])]),t._v(" "),s("p",[t._v("æµ‹è¯•æ¥å£å¯ä»¥ç”¨postman")]),t._v(" "),s("div",{staticClass:"language-json line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-json"}},[s("code",[t._v("è¯·æ±‚åˆ›å»ºæ¨¡ç‰ˆæ¥å£ç¤ºä¾‹ï¼šhttp"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//localhost:2000/xhr/v1/templateCreate")]),t._v("\nåœ¨headersè¦åŠ å…¥Content-Type"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v("application/json\nè¯·æ±‚çš„å‚æ•°ï¼š\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\t"),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"name"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"test1"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n\t"),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"template"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"<h1>express<h1>"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n\t"),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"data"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("\"{name:'test1'}\"")]),t._v("\n\t\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\nè¿”å›çš„æ•°æ®ï¼Œå…¶ä¸­_idæ˜¯mongodbä¸ºæˆ‘ä»¬åˆ›å»ºçš„\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"code"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("200")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"msg"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"sucess"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"data"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"_id"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"5f2c19c81a53ff25e7d94953"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"name"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"test1"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"template"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"<h1>express<h1>"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"data"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("\"{name:'test1'}\"")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"__v"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br"),s("span",{staticClass:"line-number"},[t._v("8")]),s("br"),s("span",{staticClass:"line-number"},[t._v("9")]),s("br"),s("span",{staticClass:"line-number"},[t._v("10")]),s("br"),s("span",{staticClass:"line-number"},[t._v("11")]),s("br"),s("span",{staticClass:"line-number"},[t._v("12")]),s("br"),s("span",{staticClass:"line-number"},[t._v("13")]),s("br"),s("span",{staticClass:"line-number"},[t._v("14")]),s("br"),s("span",{staticClass:"line-number"},[t._v("15")]),s("br"),s("span",{staticClass:"line-number"},[t._v("16")]),s("br"),s("span",{staticClass:"line-number"},[t._v("17")]),s("br"),s("span",{staticClass:"line-number"},[t._v("18")]),s("br"),s("span",{staticClass:"line-number"},[t._v("19")]),s("br"),s("span",{staticClass:"line-number"},[t._v("20")]),s("br"),s("span",{staticClass:"line-number"},[t._v("21")]),s("br"),s("span",{staticClass:"line-number"},[t._v("22")]),s("br"),s("span",{staticClass:"line-number"},[t._v("23")]),s("br")])]),s("div",{staticClass:"language-js line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// æºç åœ°å€")]),t._v("\n "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("https")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("github"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("com"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("hejialianghe"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("Senior"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("FrontEnd"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("tree"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("master"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("examples"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("node"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1.6")]),t._v("\n\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br")])]),s("p",[t._v("ğŸ… å®‰è£…mongodb")]),t._v(" "),s("p",[s("font",{attrs:{color:"red"}},[s("strong",[t._v("windowä¸‹å®‰è£…mongodb")])])],1),t._v(" "),s("p",[s("font",{attrs:{color:"blue"}},[t._v(" 1. ä¸‹è½½å®‰è£…")])],1),t._v(" "),s("p",[t._v("ä¼ é€é—¨ï¼šhttps://www.mongodb.com/download-center/community")]),t._v(" "),s("p",[s("font",{attrs:{color:"blue"}},[t._v(" 2. é…ç½®æ•°æ®åº“æ•°æ®å­˜æ”¾ç›®å½•å’Œæ—¥å¿—å­˜æ”¾ç›®å½•")])],1),t._v(" "),s("p",[t._v("ä¾‹å¦‚åœ¨Dç›˜ä¸‹åˆ›å»ºæ•°æ®ç›®å½•")]),t._v(" "),s("p",[t._v("mkdir D:\\data\\db")]),t._v(" "),s("p",[t._v("åˆ›å»ºæ—¥å¿—ç›®å½•")]),t._v(" "),s("p",[t._v("mkdir D:\\data\\log")]),t._v(" "),s("p",[t._v("æ•°æ®å’Œæ—¥å¿—æ”¾å“ªéƒ½å¯ä»¥ï¼Œä¸ä¸€å®šæ˜¯Dç›˜")]),t._v(" "),s("p",[s("font",{attrs:{color:"blue"}},[t._v(" 3. é…ç½®mongod.cfg")])],1),t._v(" "),s("p",[t._v("è¿›å…¥Cç›˜C:\\mongodbç›®å½•ä¸‹åˆ›å»ºmongod.cfgæ–‡ä»¶ï¼Œå¹¶æŠŠä»¥ä¸‹å†…å®¹å¤åˆ¶è¿›å»")]),t._v(" "),s("div",{staticClass:"language-bash line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[t._v("storage:\n  dbPath:  D:"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("data"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("db\n  journal:\n    enabled: "),s("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),t._v("\nsystemLog:\n  destination: "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("file")]),t._v("\n  logAppend: "),s("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),t._v("\n  path:  D:"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("data"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("log"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("mongod.log\nnet:\n  port: "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("27017")]),t._v("\n  bindIp: "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("127.0")]),t._v(".0.1\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# æƒé™éªŒè¯,æ˜¯å¦ç”¨å¯†ç è¿æ¥æ•°æ®åº“ï¼Œå¼€å§‹ä¸è¦è®¾ç½®å¯†ç ï¼Œå¦‚æœè®¾ç½®æƒé™éªŒè¯ï¼Œå°±æŠŠ#å»æ‰")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#security:")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#authorization: enabled")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br"),s("span",{staticClass:"line-number"},[t._v("8")]),s("br"),s("span",{staticClass:"line-number"},[t._v("9")]),s("br"),s("span",{staticClass:"line-number"},[t._v("10")]),s("br"),s("span",{staticClass:"line-number"},[t._v("11")]),s("br"),s("span",{staticClass:"line-number"},[t._v("12")]),s("br"),s("span",{staticClass:"line-number"},[t._v("13")]),s("br"),s("span",{staticClass:"line-number"},[t._v("14")]),s("br")])]),s("p",[s("font",{attrs:{color:"blue"}},[t._v(" 4. å®‰è£…mongodbæœåŠ¡")])],1),t._v(" "),s("p",[t._v("åœ¨C:\\mongodb\\binç›®å½•ä¸‹æ‰“å¼€shellï¼Œå¹¶æ‰§è¡Œä»¥ä¸‹å‘½ä»¤")]),t._v(" "),s("p",[t._v('mongod.exe --config "C:\\mongodb\\mongod.cfg" --install')]),t._v(" "),s("p",[t._v("å¯åŠ¨mongodbæœåŠ¡")]),t._v(" "),s("p",[t._v("net start MongoDB")]),t._v(" "),s("p",[t._v("å¦‚æœæ‰§è¡ŒæˆåŠŸï¼Œä¼šè¾“å‡ºä»¥ä¸‹ä¿¡æ¯")]),t._v(" "),s("p",[t._v("2015-09-25T15:54:09.212+0800 I CONTROL  Hotfix KB2731284 or later update is notinstalled, will zero-out data files2015-09-25T15:54:09.229+0800 I JOURNAL  [initandlisten] journal dir=c:\\data\\db\\j\nournal2015-09-25T15:54:09.237+0800 I JOURNAL  [initandlisten] recover : no journal fil\nes present, no recovery needed2015-09-25T15:54:09.290+0800 I JOURNAL  [durability] Durability thread started2015-09-25T15:54:09.294+0800 I CONTROL  [initandlisten] MongoDB starting : pid=2488 port=27017 dbpath=c:\\data\\db 64-bit host=WIN-1VONBJOCE882015-09-25T15:54:09.296+0800 I CONTROL  [initandlisten] targetMinOS: Windows 7/W\nindows Server 2008 R22015-09-25T15:54:09.298+0800 I CONTROL  [initandlisten] db version v3.0.6")]),t._v(" "),s("p",[s("font",{attrs:{color:"blue"}},[t._v(" 5. å…¶å®ƒæŒ‡ä»¤")])],1),t._v(" "),s("p",[t._v("net stop MongoDB //å…³é—­MongoDBæœåŠ¡")]),t._v(" "),s("p",[t._v("mongod.exe --remove  //ç§»é™¤ MongoDB æœåŠ¡ï¼Œè¦åœ¨C:\\mongodb\\binç›®å½•ä¸‹æ‰“å¼€shelæ‰§è¡Œè¯¥å‘½ä»¤æˆ–ç‚¹å‡»mongo.exe")]),t._v(" "),s("p",[t._v("mongo.exe //è¿›å…¥mongodbç®¡ç†åå°ï¼Œè¦åœ¨C:\\mongodb\\binç›®å½•ä¸‹æ‰“å¼€shellæ‰§è¡Œè¯¥å‘½ä»¤æˆ–ç‚¹å‡»mongo.exe")]),t._v(" "),s("p",[s("font",{attrs:{color:"blue"}},[t._v(" 6. windowç‰ˆæ•°æ®åº“ç®¡ç†å·¥å…·navicatmongodb")])],1),t._v(" "),s("p",[t._v("é“¾æ¥: https://pan.baidu.com/s/14NYuD-rkG7p4YsX3UZgBOA æå–ç : xeah")]),t._v(" "),s("p",[s("font",{attrs:{color:"red"}},[s("strong",[t._v("macä¸‹å®‰è£…mongodbï¼ˆlinuxä¸ŠåŒç†ï¼‰")])])],1),t._v(" "),s("p",[s("font",{attrs:{color:"blue"}},[t._v(" 1. macä¸‹å®‰è£…mongodb")])],1),t._v(" "),s("p",[t._v("æ‰‹åŠ¨å®‰è£…")]),t._v(" "),s("p",[t._v("ä¼ é€é—¨ï¼šhttps://www.mongodb.com/download-center/community")]),t._v(" "),s("p",[t._v("1.æ‰“å¼€finderæŒ‰shift+command+g è¾“å…¥/usr/local è¿›å…¥è¿™ä¸ªç›®å½•ä¸‹")]),t._v(" "),s("p",[t._v("2.åœ¨/usr/localä¸‹åˆ›å»ºmongodbæ–‡ä»¶å¤¹")]),t._v(" "),s("p",[t._v("3.æŠŠä¸‹è½½å¥½çš„åŒ…æ‹–å…¥/usr/local/mongodbç›®å½•ä¸‹")]),t._v(" "),s("p",[t._v("4æ‰“å¼€å‘½ä»¤è¡Œè¾“å…¥cd /usr/local/mongodb")]),t._v(" "),s("p",[t._v("5.è§£å‹")]),t._v(" "),s("p",[t._v("sudo tar zxvf mongodb-linux-x86_64-rhel70-4.2.0.tgz //è§£å‹ï¼Œæ‰‹åŠ¨ç‚¹å‡»ä¹Ÿå¯ä»¥")]),t._v(" "),s("p",[t._v("6.ä¿®æ”¹æ–‡ä»¶å")]),t._v(" "),s("p",[t._v("sudo mv mongodb-linux-x86_64-rhel70-4.2.0 mongodbserver  //ä¿®æ”¹æ–‡ä»¶åï¼Œæ‰‹åŠ¨ä¿®æ”¹ä¹Ÿå¯ä»¥")]),t._v(" "),s("p",[s("font",{attrs:{color:"blue"}},[t._v(" 2. åˆ›å»ºdataå’Œlog")])],1),t._v(" "),s("p",[t._v("sudo mkdir data  //åˆ›å»ºdataæ–‡ä»¶")]),t._v(" "),s("p",[t._v("sudo mkdir log  //åˆ›å»ºlogæ–‡ä»¶")]),t._v(" "),s("p",[s("font",{attrs:{color:"blue"}},[t._v(" 3. åœ¨/usr/local/mongodb/ç›®å½•ä¸‹åˆ›å»ºé…ç½®æ–‡ä»¶mongod.conf")])],1),t._v(" "),s("p",[t._v("1.vim  /usr/local/mongodb/mongod.conf //ç¼–è¾‘æ–‡ä»¶ï¼Œå‘½ä»¤è¡Œä¸­æ‰§è¡Œ")]),t._v(" "),s("p",[t._v("2.è¾“å…¥i è¿›å…¥è¾“å…¥æ¨¡å¼")]),t._v(" "),s("p",[t._v("3.æŠŠä»¥ä¸‹å†…å®¹å¤åˆ¶åˆ°mongod.confæ–‡ä»¶é‡Œ")]),t._v(" "),s("div",{staticClass:"language-bash line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[t._v("  "),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("dbpath")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("/usr/local/mongodb/data/  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#æ•°æ®å­˜æ”¾è·¯å¾„ ")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("logpath")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("/usr/local/mongodb/log/mongodb.log "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#æ—¥å¿—å­˜æ”¾è·¯å¾„")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("fork")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("true "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#åå°è¿è¡Œ bind_ip=0.0.0.0 #å…è®¸ä»»ä½•IPè¿›è¡Œè¿æ¥ ")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("auth")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("false "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#trueæ˜¯è¦è¿›è¡Œå¯†ç éªŒè¯è¿æ¥æ•°æ®åº“ï¼Œfalseä¸éœ€è¦")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br")])]),s("p",[t._v("4.æŒ‰esc è¿›å…¥ç¼–è¾‘")]),t._v(" "),s("p",[t._v("5.æŒ‰ ï¼šè¿›å…¥æœ«å°¾")]),t._v(" "),s("p",[t._v("6.æŒ‰ wq è¿›è¡Œä¿å­˜å¹¶é€€å‡º")]),t._v(" "),s("p",[s("font",{attrs:{color:"blue"}},[t._v(" 4. é…ç½®å…¨å±€ç¯å¢ƒå˜é‡")])],1),t._v(" "),s("p",[t._v("1.vim /etc/profile //è¿›å…¥ç¼–è¾‘profileæ¨¡å¼ï¼Œå‘½ä»¤è¡Œä¸­æ‰§è¡Œ")]),t._v(" "),s("p",[t._v("2.æŠŠä»¥ä¸‹å†…å®¹å¤åˆ¶åˆ°profileä¸­")]),t._v(" "),s("p",[t._v("export PATH=$PATH:/usr/local/mongodb/mongodbserver/bin")]),t._v(" "),s("p",[t._v("3.æŒ‰esc è¿›å…¥ç¼–è¾‘,.æŒ‰ ï¼šè¿›å…¥æœ«å°¾,æŒ‰ wq è¿›è¡Œä¿å­˜å¹¶é€€å‡º")]),t._v(" "),s("p",[t._v("4.source /etc/profile //é‡æ–°åŠ è½½,å‘½ä»¤è¡Œä¸­æ‰§è¡Œ")]),t._v(" "),s("p",[s("font",{attrs:{color:"blue"}},[t._v(" 5. å¯åŠ¨mongodb")])],1),t._v(" "),s("p",[t._v("mongod --config /usr/local/mongodb/mongod.conf //å‘½ä»¤è¡Œä¸­è¿è¡Œ")]),t._v(" "),s("p",[t._v("æ˜¾ç¤ºï¼šchild process started sucessfullyï¼Œparent exiting è¯´æ˜è¿è¡ŒæˆåŠŸ")]),t._v(" "),s("p",[t._v("æŸ¥çœ‹mongodbæ˜¯å¦å¯åŠ¨æˆåŠŸ")]),t._v(" "),s("p",[t._v("ps -ef | grep mongodb")]),t._v(" "),s("p",[t._v("ps -axu |grep mongo  è·å–è¿›ç¨‹å·")]),t._v(" "),s("p",[s("font",{attrs:{color:"blue"}},[t._v(" 6. åˆ›å»ºæ•°æ®åº“")])],1),t._v(" "),s("div",{staticClass:"language-bash line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[t._v("mongo "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# è¿æ¥æ•°æ®åº“")]),t._v("\nuse temp "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#tempå°±æ˜¯æˆ‘ä»¬åˆ›å»ºçš„æ•°æ®åº“ï¼Œç”¨show dbs æŸ¥çœ‹æ•°æ®åº“æ˜¯ä¸æ˜¾ç¤ºçš„ï¼Œå› ä¸ºé‡Œé¢æ²¡æœ‰æ•°æ®")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br")])]),s("p",[s("font",{attrs:{color:"blue"}},[t._v(" 7. å…¶ä»–æŒ‡ä»¤")])],1),t._v(" "),s("p",[t._v("mongorestore -h 127.0.0.1:27017 -d testdata --drop /home/data/  // å¯¼å…¥æ•°æ®ï¼Œtestdataæ˜¯æ•°æ®åº“çš„åç§°ï¼Œ/home/data/æ˜¯è€æ•°æ®å­˜æ”¾åœ°å€")]),t._v(" "),s("p",[t._v("mongod --shutdown --dbpath  /usr/local/mongodb/data/ //å…³æ‰æœåŠ¡")]),t._v(" "),s("p",[t._v("æ•°æ®åº“ç”¨æˆ·åŠæƒé™ç®¡ç†")]),t._v(" "),s("p",[t._v("æç¤ºï¼šå¦‚æœæƒ³è¿›è¡Œè´¦å·å¯†ç è¿æ¥æ•°æ®åº“ï¼Œè¯·çœ‹1ï¼Œ2ï¼Œ3ï¼Œ4ï¼Œ,5è®¾ç½®å¯†ç åè¯·ä¿®æ”¹")]),t._v(" "),s("p",[t._v("mongodb.conf é‡Œçš„é…ç½®é¡¹auth=true")]),t._v(" "),s("div",{staticClass:"language-js line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("mongo "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//å‘½ä»¤è¡Œè¾“å…¥")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("use admin "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//è¿›å…¥admin")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("3")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("db"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("createUser")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("user")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"xxx"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("pwd")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"xxx"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("roles")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("role")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"userAdminAnyDatabase"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("db")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"admin"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//åˆ›å»ºè¶…çº§ç®¡ç†å‘˜")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("4")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("use testdata "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//è¿›å…¥testdataæ•°æ®åº“")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("5")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("db"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("createUser")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("user")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"xxx"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("pwd")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"xxx"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("roles")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("role")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"readWrite"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("db")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"testdata"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//å»ºç«‹testdataæ•°æ®åº“ç®¡ç†å‘˜")]),t._v("\n\ndb"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("auth")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"xxx"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"xxx"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//åˆ›å»ºå®Œæˆåå¯ä»¥è¿›è¡Œç®¡ç†å‘˜éªŒè¯ï¼Œçœ‹æ˜¯å¦è®¾ç½®æˆåŠŸ")]),t._v("\n\ndb"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("changeUserPassword")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"xxx"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"xxxx"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//ä¿®æ”¹ç”¨æˆ·å¯†ç ")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br"),s("span",{staticClass:"line-number"},[t._v("8")]),s("br"),s("span",{staticClass:"line-number"},[t._v("9")]),s("br"),s("span",{staticClass:"line-number"},[t._v("10")]),s("br"),s("span",{staticClass:"line-number"},[t._v("11")]),s("br"),s("span",{staticClass:"line-number"},[t._v("12")]),s("br"),s("span",{staticClass:"line-number"},[t._v("13")]),s("br")])]),s("p",[t._v("show users //æŸ¥çœ‹å·²æœ‰ç”¨æˆ·")]),t._v(" "),s("p",[t._v("show dbs  //æŸ¥è¯¢æ•°æ®åº“åˆ—è¡¨")]),t._v(" "),s("p",[s("font",{attrs:{color:"blue"}},[t._v(" 8. macä¸‹æ•°æ®åº“ç®¡ç†å·¥å…·Robo")])],1),t._v(" "),s("p",[t._v("ä¼ é€é—¨ï¼šhttps://robomongo.org/download")])])}),[],!1,null,null,null);s.default=e.exports}}]);